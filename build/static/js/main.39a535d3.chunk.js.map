{"version":3,"sources":["APIs/_baseApi.js","APIs/partnerApi.js","APIs/userApi.js","Pages/EmailVerification.js","Pages/ForgotPassword.js","APIs/loginApi.js","Pages/Login.js","ErrorCodes/errorCodes.js","APIs/utilApi.js","Pages/PartnerRegistration.js","Pages/UserRegistration.js","Components/DrawerButtons.js","Components/appbar-drawer-component/_globals.js","Components/appbar-drawer-component/AppBarComp.js","Components/appbar-drawer-component/DrawerComp.js","Components/appbar-drawer-component/SlideDrawerComp.js","Components/appbar-drawer-component/AppBarDrawerComp.js","APIs/destinationApi.js","Pages/AdminDestination.js","Pages/AdminManagePartner.js","Pages/AdminPartnerConfirm.js","Pages/AdminPartnerList.js","Pages/AdminPartnerType.js","Pages/AdminUserList.js","APIs/addressApi.js","Pages/PartnerAddress.js","APIs/partnerBookingApi.js","APIs/partnerBookingFleetApi.js","Pages/PartnerBooking.js","Pages/PartnerDelete.js","APIs/partnerDestinationApi.js","Pages/PartnerDestination.js","Pages/PartnerEmail.js","APIs/partnerFleetApi.js","Pages/PartnerFleet.js","Pages/PartnerPassword.js","Pages/PartnerProfile.js","Pages/PartnerUserName.js","Pages/UserAddress.js","APIs/userBookingApi.js","APIs/userBookingFleetApi.js","APIs/searchApi.js","Pages/UserBooking.js","Pages/UserDelete.js","Pages/UserProfile.js","Pages/UserUserName.js","Pages/UserPassword.js","APIs/userDestinationRatingApi.js","Pages/UserDestination.js","Pages/UserEmail.js","Site/SiteBody.js","Pages/PrivacyPolicy.js","Pages/TermsOfUse.js","Site/SiteRouting.js","App.js","index.js"],"names":["baseApi","urlExt","method","body","apiHost","headers","fetch","JSON","stringify","then","response","json","signIn","requestBody","a","baseEndpoint","jsonPromise","result","forgotPassword","UserEmail","get","apiKey","Authorization","getSelf","add","update","updateSelf","confirm","idPartner","Confirm","suspend","Suspend","delete","deleteSelf","verifyEmail","PartnerUserEmailVerifyCode","register","UserEmailVerifyCode","useStyles","makeStyles","theme","root","width","display","marginLeft","spacing","marginRight","breakpoints","up","card","marginTop","marginBottom","flexDirection","alignItems","header","textAlign","font","cardContent","button","circleProgress","errorMessage","color","link","ERROR","SUCCESS","EmailVerification","classes","useParams","id","userType","type","useState","state","errorMsg","formState","setFormState","verifyEmailApi","userApi","partnerApi","useEffect","error_code","message","verifyEmailResultProps","className","CssBaseline","includes","VerifyEmailResult","VerifyingEmail","Card","CardHeader","title","CardContent","CircularProgress","props","Typography","align","to","href","ForgotPassword","email","setEmail","forgotPasswordApi","registrationFormProps","attemptResetPassword","ResetPasswordSuccess","ForgotPasswordForm","onSubmit","event","preventDefault","TextField","margin","fullWidth","autoFocus","label","value","onChange","target","Button","variant","partnerLogin","username","password","LoginName","LoginPassword","userLogin","userLoginFacebook","bcrypt","require","salt","genSaltSync","hash","hashSync","userForgotPassword","main","avatar","height","form","submit","loginProgress","registration","otherOptions","Login","loginType","loginState","setLoginState","setUsername","setPassword","history","useHistory","attemptLogin","loginBody","loginMethod","loginApi","ApiKey","sessionStorage","setItem","push","loginFormProps","otherLoginOptionsProps","onFacebookClick","registrationLinkProps","LoginForm","OtherLoginOptions","Divider","RegistrationLink","FormControl","required","error","InputLabel","htmlFor","Input","name","autoComplete","FormHelperText","buttonStyle","paddingBottom","paddingTop","fontSize","appId","fields","onClick","callback","loginDetails","UserFaceBookId","UserFacebookName","icon","errorCodesList","errorCode","getFleetType","getCountryCode","tooltipText","PartnerRegistration","countryCodes","setCountryCodes","PartnerTnCFlag","PartnerEmailSubscribeFlag","PartnerUserCountryCode","partner","setPartner","registerState","setRegisterState","attemptRegister","utilApi","results","RegistrationSuccess","PartnerRegistrationForm","checkboxProps","window","open","CountryCodeDropDown","Select","map","countryCode","MenuItem","key","idCountryCode","CountryCodeDex","CountryCodeVal","varName","index","multiline","InputProps","endAdornment","InputAdornment","position","Tooltip","PopperProps","FormControlLabel","control","Checkbox","varname","checked","errorCodes","UserTnCFlag","UserEmailSubscribeFlag","UserPhoneNumberCountryCode","user","setUser","idUser","UserRegistrationForm","overflow","divider","DrawerButtons","buttons","List","isDivider","ListItem","selected","isSelected","AppBarComp","backgroundColor","setDrawerOpen","AppBar","style","background","Toolbar","Hidden","mdUp","IconButton","edge","drawerPaper","drawerTopSpace","appBarHeight","devWarningSpace","borderBottom","DrawerTopSpace","drawerTopComponents","DrawerComp","children","Drawer","paper","drawerTopComponent","flex","paddingLeft","paddingRight","setDrawerClose","SlideDrawerComp","drawerOpen","onClose","anchor","AppBarDrawerComp","appBarProps","drawerProps","drawerChildren","smDown","destinationDelete","imageDiv","image","halfWidthButton","AdminDestination","destinations","setDestinations","selectedDestination","setSelectedDestination","parse","getItem","reload","destinationApi","modifyActions","destinationListProps","destinationFormProps","modifyDestination","action","modifyAction","alert","destination","setDestination","DestinationForm","DestinationList","idDestination","ListItemAvatar","Avatar","src","DestinationPictureBase64","ListItemText","listItemText","primary","DestinationName","secondary","DestinationDex","buttonProps","isD","find","maxWidth","maxHeight","alt","accept","input","files","length","console","log","fileReader","FileReader","onloadend","substring","indexOf","readAsDataURL","component","buttonProp","disabled","AdminManagePartner","partners","setPartners","selectedPartner","setSelectedPartner","apiCall","api","setCallback","partnerFormProps","modifyPartner","PartnerForm","PartnerStatus","PartnerName","readOnly","whiteSpace","nested","secondaryActionButton","AdminPartnerConfirm","partnerListProps","PartnerList","unconfirmedPartners","filter","otherPartners","partnerListItem","PartnerStatusDex","ListItemSecondaryAction","aria-label","AdminPartnerList","code","Object","keys","AdminPartnerType","PartnerUserRight","partnerRightsFiltered","val","authAdminRight","right","AdminUserList","users","setUsers","userListProps","UserList","UserName","setDefaultSelf","idAddress","PartnerAddress","curAddrIndex","setCurAddrIndex","addresses","setAddresses","addressApi","formSubmitActions","address","submitForm","formSubmitAction","formProps","setAddress","newAddresses","PartnerAddressForm","AddressDropDown","AddressTypeDex","AddressDefault","quote","PartnerBooking","bookings","setBookings","fleets","setFleets","booking","setBooking","partnerBookingApi","partnerBookingFleetApi","modifyBookingActions","QuoteApprove","BookingAccept","bookingListProps","bookingFormProps","modifyBooking","BookingForm","BookingList","openIndex","setOpenIndex","filterFleet","idBooking","fleet","BookingId","BookingStatusDex","BookingQuotation","BookingDateFrom","BookingTimeFrom","BookingDateTo","BookingTimeTo","BookingComment","Collapse","in","timeout","unmountOnExit","disablePadding","idBookingFleet","FleetTypeDex","BookingFleetQty","BookingFleetMemo","BookingStatus","PartnerDelete","deleteFormProps","attemptDelete","UserDeleteForm","idPartnerDestination","PartnerDestination","partnerDests","setPartnerDests","selectedPartnerDest","setSelectedPartnerDest","partnerDestinationApi","partnerDest","setPartnerDest","PartnerDestinationService","findIndex","PartnerEmail","idFleet","PartnerFleet","setFleet","partnerFleetApi","FleetPartner","fleetListProps","fleetFormProps","FleetForm","FleetList","FleetPictureBase64","FleetDex","PartnerPassword","placeholder","PartnerProfile","CardContentTextField","params","PartnerUserName","UserAddress","UserAddressForm","userBookingDelete","getPartner","UserBooking","selectedBooking","setSelectedBooking","selectedFleet","setSelectedFleet","fleetTypes","setFleetTypes","userBookingApi","userBookingFleetApi","searchApi","modifyBookingFleetActions","bookingFleetFormProps","modifyFleet","UserBookingForm","UserBookingFleetForm","UserBookingList","newBooking","BookingDateTimeFrom","BookingDateTimeTo","BookingPartner","dateTimeVar","InputLabelProps","shrink","BookingFleetType","fleetType","idFleetType","UserDelete","UserProfile","userState","setUserState","attemptUpdate","UserProfileForm","UserUserName","UserPassword","idUserDestinationRating","ratings","setRatings","rating","setRating","userDestinationRatingApi","submitActions","listCardProps","submitAction","FormCard","ListCard","Rating","RatingComment","parseInt","RatingDestination","drawerTopComp","cursor","siteBodyMain","SiteBodyFrame","returnToHome","SiteBodyMain","currentPage","pageComp","SiteBody","Type","page","pages","p","rights","forEach","goToPage","_page","PrivacyPolicy","TermsOfUse","SiteRouting","basename","exact","path","render","devWarning","padding","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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OAAO,CAAC,KAAK,OAC9B,CAACD,EAAE,KAAK7a,MAAM,iBAAkB8a,OAAO,CAAC,KAAK,OAC7C,CAAC1S,WAAU,EAAM0S,OAAO,CAAC,KAAK,QAYLrL,QAAO,SAAAhT,GAAM,OACpCA,EAAOqe,OAAO1c,SAASiG,EAAa+L,sBAMxClI,EAAQ6S,SAAQ,SAAAte,GACdA,EAAO0H,QAAU,kBA1FF,SAAAwW,GAAI,OACnBzY,EAAQS,KAAK,SAAWgY,GAyFDK,CAASve,EAAOoe,IACpCpe,EAAOoe,IAAMF,IAAMle,EAAO8L,YAAa,MAI5CL,EAAQvF,KACN,CAACkY,EAAE,IAAI7a,MAAM,SAAUmE,QArGV,WACb1B,eAAeC,QAAQ,eAAgB,MACvCR,EAAQS,KAAK,OAoGb,CAACyF,WAAU,IAGbtK,qBAAU,WACJ6c,GAAMzS,EAAQ,GAAG/D,YACpB,CAACwW,EAAMzS,IAGR,6BACE,kBAAC/J,EAAA,EAAD,MACA,kBAACic,GAAD,CACElS,QAASA,EACTmS,aAAc,kBAAMnY,EAAQS,KAAK,QAEnC,kBAAC2X,GAAD,CACEC,YAAaK,EAAM3N,MAAK,SAAAgO,GAAK,OAAIA,EAAMJ,IAAMF,SC5KtC,SAASO,KACtB,OACE,yBACEtS,MAAO,CACL/I,OAAO,KAGT,mCACA,wEACA,mCACA,2BAAG,gFACH,mCACA,8JACA,geACA,2OACA,mCACA,wCACA,iDACA,mCACA,kEACA,mCACA,4LACA,uNACA,qUACA,mCACA,sEACA,mCACA,qVACA,yIACA,mRACA,mCACA,0EACA,mCACA,gNACA,+LACA,8HACA,8MACA,kRACA,sVACA,mCACA,2DACA,mCACA,iiBACA,4NACA,6JACA,mQACA,mCACA,uFACA,mCACA,+GACA,uWACA,iWACA,mCACA,iEACA,mCACA,izBACA,ijBACA,mCACA,iEACA,mCACA,6YACA,giBACA,mCACA,oEACA,mCACA,2PACA,uLACA,+QACA,mIACA,ihBACA,mCACA,oEACA,mCACA,ojBACA,i5BACA,mCACA,yEACA,mCACA,uIACA,+VACA,oMACA,+SACA,2KACA,mCACA,mGACA,mCACA,6NACA,mCACA,gFACA,mCACA,gXACA,mCACA,2DACA,mCACA,oLACA,6PACA,saACA,2BAAG,6BAAH,KACA,+DACA,mCACA,kSACA,yXACA,oDACA,mCACA,4TACA,mCACA,gFACA,mCACA,6gDACA,mCACA,+DACA,mCACA,oOACA,kZACA,mCACA,mCACA,mCACA,mCACA,2BAAG,kHACH,mCACA,+JACA,ujBACA,wOACA,mCACA,wCACA,iDACA,mCACA,kEACA,mCACA,yLACA,yNACA,mCACA,sEACA,mCACA,8iBACA,yIACA,mRACA,mCACA,qEACA,qPACA,gMACA,qHACA,yMACA,uQACA,sUACA,mCACA,2DACA,mCACA,shBACA,yNACA,0JACA,6PACA,mCACA,uFACA,mCACA,4GACA,oWACA,8VACA,mCACA,iEACA,mCACA,8yBACA,2iBACA,mCACA,iEACA,mCACA,wYACA,8bACA,mCACA,oEACA,mCACA,8PACA,mLACA,4QACA,mIACA,4gBACA,mCACA,oEACA,mCACA,kjBACA,w5BACA,mCACA,yEACA,mCACA,sJACA,2TACA,+KACA,qSACA,6KACA,mCACA,mGACA,mCACA,sLACA,mCACA,gFACA,mCACA,kXACA,mCACA,2DACA,mCACA,oLACA,6PACA,saACA,2BAAG,6BAAH,KACA,+DACA,mCACA,yRACA,oXACA,oDACA,mCACA,4TACA,mCACA,gFACA,mCACA,6gDACA,mCACA,+DACA,mCACA,oOACA,kZACA,oCC5NS,SAASsb,KACtB,OACE,yBACEvS,MAAO,CACL/I,OAAO,KAGT,wJACA,8GAA6F,6BAA7F,wLACuP,6BADvP,uLAEsP,6BAFtP,oKAGmO,6BAHnO,mKAIkO,6BAJlO,kKAKiO,6BALjO,QAOA,2BAAG,+DACH,+NACA,uQACA,geACA,maACA,+RACA,2BAAG,uCAAc,6BAAd,gCACH,8OACA,4rBACA,mCACA,2BAAG,mEACH,0FACA,4BACA,0JACA,2NACA,qJACA,wMACA,4IAEA,+IACA,mCACA,2BAAG,0CACH,gIACA,mCACA,2BAAG,0CACH,8SACA,4EACA,yMACA,kDACA,gRACA,gEACA,6KACA,uVACA,2CACA,oRACA,qFACA,gJACA,wMACA,iMACA,uFACA,mNACA,4UACA,+OACA,mCACA,2BAAG,6DACH,uHACA,sEACA,wEACA,yDACA,oEACA,yEACA,iGACA,6FACA,sDACA,mCACA,0HACA,2BAAG,gCAAQ,6BAAR,uCACH,sNACA,4iBACA,mCACA,2BAAG,uDACH,8LACA,mEACA,oCCpBSub,OA5Cf,WAGE,OACE,kBAAC,IAAD,CAAQC,SAAS,cACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,gBAChB,kBAAC3Z,EAAD,OAEF,kBAAC,IAAD,CAAO0Z,OAAK,EAACC,KAAK,yBAChB,kBAACtc,EAAD,OAEF,kBAAC,IAAD,CAAOqc,OAAK,EAACC,KAAK,qBAChB,kBAACzW,GAAD,OAEF,kBAAC,IAAD,CAAOwW,OAAK,EAACC,KAAK,kBAChB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CACCD,OAAK,EAACC,KAAK,0BACV,kBAACve,EAAD,OAEF,kBAAC,IAAD,CAAOse,OAAK,EAACC,KAAK,mBAChB,kBAACL,GAAD,OAEF,kBAAC,IAAD,CAAOI,OAAK,EAACC,KAAK,iBAChB,kBAACJ,GAAD,OAEF,kBAAC,IAAD,CAAOG,OAAK,EAACC,KAAK,eAChBC,OAAQ,WAEN,OADqBliB,KAAK+R,MAAM5I,eAAe6I,QAAQ,iBAEtC,kBAAC,GAAD,MAAc,kBAAC,IAAD,CAAUvM,GAAG,mBAIhD,kBAAC,IAAD,CAAOyc,OAAQ,kBACb,kBAAC,IAAD,CAAUzc,GAAG,sBCjDjB1D,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJ8F,OAAO,SAETma,WAAY,CACVnf,UAAU,SACVof,QAAQngB,EAAMK,QAAQ,GACtB2N,aAAa,YACbhN,KAAK,kBACLkM,gBAAgB,cAiBLkT,OAZf,WACE,IAAM1e,EAAU5B,KAChB,OACE,yBAAK6C,UAAWjB,EAAQzB,MACtB,yBAAK0C,UAAWjB,EAAQwe,YAAxB,+CAGA,kBAAC,GAAD,QCpBNG,IAASJ,OACP,kBAAC,IAAMK,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.39a535d3.chunk.js","sourcesContent":["const ApiHost = 'https://webdev.mybaikky.com/api/v0'\r\n\r\n/**\r\n * \r\n * @param {string} urlExt \r\n * @param {string} method \r\n * @param {string} body \r\n * @param {string} [apiHost]\r\n * @param {} [headers]\r\n */\r\nexport default function baseApi(urlExt, method, body, apiHost, headers) {\r\n  const url = (apiHost || ApiHost) + urlExt;\r\n  const jsonPromise = fetch(url, {\r\n    method: method,\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      ...headers\r\n    },\r\n    body: JSON.stringify(body)\r\n  }).then(response => response.json());\r\n  return jsonPromise;\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/partner';\r\n\r\nconst signIn = async (requestBody) => {\r\n  const urlExt = baseEndpoint + '/signIn';\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst forgotPassword = async (UserEmail) => {\r\n  const urlExt = baseEndpoint + '/forgotPassword';\r\n  const jsonPromise = baseApi(urlExt, 'POST', {UserEmail});\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst get = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst getSelf = async (apiKey) => {\r\n  const urlExt = baseEndpoint + '/getSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', null, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst add = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/addNew';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst update = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst updateSelf = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/updateSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst confirm = async (apiKey, idPartner, Confirm) => {\r\n  const urlExt = baseEndpoint + '/confirm';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idPartner, Confirm}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst suspend = async (apiKey, idPartner, Suspend) => {\r\n  const urlExt = baseEndpoint + '/suspend';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idPartner, Suspend}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst deletePartner = async (apiKey, idPartner) => {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idPartner}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst deleteSelf = async (apiKey) => {\r\n  const urlExt = baseEndpoint + '/deleteSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', null, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst verifyEmail = async (PartnerUserEmailVerifyCode) => {\r\n  const urlExt = baseEndpoint + '/verifyEmail';\r\n  const jsonPromise = baseApi(urlExt, 'POST', {PartnerUserEmailVerifyCode});\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  signIn, forgotPassword, get, getSelf,\r\n  add, update, updateSelf, confirm, suspend,\r\n  delete:deletePartner, deleteSelf,\r\n  verifyEmail\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/user';\r\n\r\nconst register = async (requestBody) => {\r\n  const urlExt = baseEndpoint + '/register';\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst get = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst getSelf = async (apiKey) => {\r\n  const urlExt = baseEndpoint + '/getSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', null, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst updateSelf = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/updateSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst forgotPassword = async (UserEmail) => {\r\n  const urlExt = baseEndpoint + '/forgotPassword';\r\n  const jsonPromise = baseApi(urlExt, 'POST', {UserEmail});\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst verifyEmail = async (UserEmailVerifyCode) => {\r\n  const urlExt = baseEndpoint + '/verifyEmail';\r\n  const jsonPromise = baseApi(urlExt, 'POST', {UserEmailVerifyCode});\r\n  const result = await jsonPromise;\r\n  return result;\r\n}\r\n\r\nconst deleteSelf = async (apiKey) => {\r\n  const urlExt = baseEndpoint + '/deleteSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', null, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  register, get, getSelf, updateSelf, \r\n  forgotPassword, verifyEmail, deleteSelf\r\n}","import React, { useState, useEffect, Fragment } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, Card, CssBaseline, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\nimport { useParams, Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\nconst SUCCESS = 1;\r\n\r\nexport default function EmailVerification() {\r\n  const classes = useStyles();\r\n  const {id, type: userType } = useParams();\r\n  const [formState, setFormState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n\r\n  const verifyEmailApi = userType === 'user' ?\r\n    () => userApi.verifyEmail(id) :\r\n    () => partnerApi.verifyEmail(id);\r\n\r\n  const attemptVerifyEmail = () => {\r\n    setFormState({...formState, state:LOADING});\r\n    verifyEmailApi().then(response => {\r\n      if(response.error_code === '0') {\r\n        setFormState({errorMsg:'', state:SUCCESS});\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  useEffect(() => attemptVerifyEmail(), []);\r\n\r\n  const verifyEmailResultProps = {\r\n    userType, formState\r\n  }\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <CssBaseline />\r\n      {[SUCCESS, ERROR].includes(formState.state) ?\r\n        <VerifyEmailResult {...verifyEmailResultProps}/> :\r\n        <VerifyingEmail/>\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction VerifyingEmail() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Verifying Email'\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n        <div className={classes.circleProgress}>\r\n          <CircularProgress />\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction VerifyEmailResult(props) {\r\n  const classes = useStyles();\r\n  const {userType, formState} = props;\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title={formState.state === SUCCESS ?\r\n          'Email Verification Successful!' : 'Email Verification Failed.'\r\n        }\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n      {formState.state === SUCCESS ?\r\n        <Fragment>\r\n          <Typography align='center'>\r\n            Your email was successfully verified, you may login at the following link:\r\n          </Typography>\r\n          <div className={classes.link} >\r\n            <Link to={'/login/' + userType}>Back to login</Link>\r\n          </div>\r\n        </Fragment> :\r\n        <Typography align='center'>\r\n          This email verification link is invalid or has expired, send an email to&nbsp;\r\n          <a href={\"mailto:info@baikup.com\"}>info@baikup.com</a> for assistance.\r\n        </Typography>\r\n      }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CssBaseline, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\nimport { useParams, Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\nconst SUCCESS = 1;\r\n\r\nexport default function ForgotPassword() {\r\n  const classes = useStyles();\r\n  const userType = useParams().type;\r\n  const [email, setEmail] = useState('');\r\n  const [formState, setFormState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const forgotPasswordApi = userType === 'user' ?\r\n    () => userApi.forgotPassword(email) :\r\n    () => partnerApi.forgotPassword(email);\r\n\r\n  const attemptResetPassword = () => {\r\n    setFormState({...formState, state:LOADING});\r\n    forgotPasswordApi().then(response => {\r\n      if(response.error_code === '0') {\r\n        setFormState({errorMsg:'', state:SUCCESS});\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    email, formState,\r\n    setEmail, attemptResetPassword\r\n  }\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <CssBaseline />\r\n      {formState.state === SUCCESS ?\r\n        <ResetPasswordSuccess userType={userType}/> :\r\n        <ForgotPasswordForm {...registrationFormProps}/>\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction ForgotPasswordForm(props) {\r\n  const classes = useStyles();\r\n  const {email, formState} = props;\r\n  const {setEmail, attemptResetPassword} = props;\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptResetPassword();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Reset Password'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus\r\n            label={'Enter Email'}\r\n            value={email ||''}\r\n            onChange={event => setEmail(event.target.value)}\r\n          /><br/>\r\n          {formState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              Submit\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {formState.state === ERROR ?\r\n              formState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}\r\n\r\nfunction ResetPasswordSuccess(props) {\r\n  const classes = useStyles();\r\n  const {userType} = props;\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Password Reset!'\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography \r\n          align='center'\r\n        >\r\n          Your password has been reset and your new password has been sent to your registered email.\r\n        </Typography>\r\n        <div className={classes.link} >\r\n          <Link to={'/login/' + userType}>Back to login</Link>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import baseApi from './_baseApi';\r\n\r\nconst partnerLogin = async (username, password) => {\r\n  const urlExt = '/login/partnerlogin';\r\n  const requestBody = {\r\n    LoginName: username,\r\n    LoginPassword: password\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null);\r\n  const result = await jsonPromise.then(body => body.result || body.message);\r\n  return result;\r\n};\r\n\r\nconst userLogin = async (username, password) => {\r\n  const urlExt = '/login/userlogin';\r\n  const requestBody = {\r\n    LoginName: username,\r\n    LoginPassword: password\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null);\r\n  const result = await jsonPromise.then(body => body.result || body.message);\r\n  return result;\r\n};\r\n\r\nconst userLoginFacebook = async (requestBody) => {\r\n  const urlExt = '/login/userloginFacebook';\r\n  // generate special authorization header\r\n  var bcrypt = require('bcryptjs');\r\n  var salt = bcrypt.genSaltSync(10);\r\n  var pass = \"f2a0fff62092a336a98deec51d6134c8\";\r\n  var hash = bcrypt.hashSync(pass, salt);\r\n  const headers = {\r\n    Authorization: 'Bearer ' + hash\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise.then(body => body.result || body.message);\r\n  return result;\r\n};\r\n\r\nconst userForgotPassword = async (UserEmail) => {\r\n  const urlExt = '/user/forgotPassword';\r\n  const requestBody = {UserEmail};\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null);\r\n  return jsonPromise;\r\n};\r\n\r\nexport default {\r\n  partnerLogin,\r\n  userLogin,\r\n  userLoginFacebook,\r\n  userForgotPassword\r\n}","import React, { useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport { makeStyles, Card, CardHeader, CardContent, Divider } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress  from '@material-ui/core/CircularProgress';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\nimport loginApi from '../APIs/loginApi';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(400 + theme.spacing(3 * 2))]: {\r\n        width: 400,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    // padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7)\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  loginProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  registration: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n    font:'16px arial'\r\n  },\r\n  otherOptions: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    font:'16px arial'\r\n  },\r\n}))\r\n\r\nconst LOGOUT = 0;\r\nconst LOGIN_SUCCESSFUL = 1;\r\nconst ATTEMPTING_LOGIN = 2;\r\nconst INVALID_USERPASS_ERROR = -1;\r\nconst SERVER_ERROR = -2\r\n\r\nexport default function Login() {\r\n  const classes = useStyles();\r\n  const loginType = useParams().type;\r\n  const [loginState, setLoginState] = useState(LOGOUT);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const history = useHistory();\r\n\r\n  const attemptLogin = (loginType, loginBody) => {\r\n    setLoginState(ATTEMPTING_LOGIN);\r\n    const loginMethods = {\r\n      'partner':() => loginApi.partnerLogin(username, password),\r\n      'user':() => loginApi.userLogin(username, password),\r\n      'facebook':() => loginApi.userLoginFacebook(loginBody)\r\n    };\r\n    const loginMethod = loginMethods[loginType];\r\n    loginMethod(username, password).then(body => {\r\n      if(body.ApiKey){\r\n        setUsername('');\r\n        setPassword('');\r\n        sessionStorage.setItem(\"loginDetails\",JSON.stringify(body));\r\n        setLoginState(LOGIN_SUCCESSFUL);\r\n        // users go back to the wix page, partners go to dashboard\r\n        // ['user','facebook'].includes(loginType) ?  history.push('/') : history.push('/main');\r\n        history.push('/main') //for dev env, everyone goes to dashboard\r\n      }\r\n      else {\r\n        setLoginState(INVALID_USERPASS_ERROR);\r\n      }\r\n    });\r\n  }\r\n\r\n  const loginFormProps = {\r\n    loginState, loginType, username, password,\r\n    setLoginState, setUsername, setPassword,\r\n    attemptLogin\r\n  };\r\n  const otherLoginOptionsProps = {\r\n    loginType, attemptLogin,\r\n    onFacebookClick: () => setLoginState(ATTEMPTING_LOGIN)\r\n  };\r\n\r\n  const registrationLinkProps = {loginType};\r\n\r\n  // render components\r\n  return (\r\n    <main className={classes.main}>\r\n      <LoginForm {...loginFormProps}/>\r\n      <div className={classes.otherOptions}><b>OR</b></div>\r\n      <OtherLoginOptions {...otherLoginOptionsProps}/>\r\n      <Divider/>\r\n      <RegistrationLink {...registrationLinkProps}/>\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction LoginForm(props) {\r\n  const {loginState, loginType, username, password} = props;\r\n  const {setUsername, setPassword, attemptLogin} = props;\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <main className={classes.main}>\r\n      <CssBaseline />\r\n      <Card className={classes.card}>\r\n        <CardHeader \r\n          className={classes.header}\r\n          title={\r\n            {\r\n              'partner':'Partner Sign In',\r\n              'user':'User Sign In',\r\n              '_':'Sign In'\r\n            }[loginType || '_']\r\n          }\r\n        />\r\n        <CardContent>\r\n          {/* Login Form */}\r\n          <form className={classes.form} \r\n            onSubmit={async event => {\r\n              event.preventDefault();\r\n              attemptLogin(loginType);\r\n            }}\r\n          >\r\n            {/* Username */}\r\n            <FormControl margin=\"normal\" required fullWidth error={loginState < 0}>\r\n              <InputLabel htmlFor=\"username\">Username</InputLabel>\r\n              <Input id=\"username\" name=\"username\" autoComplete='off' autoFocus \r\n                value={username}\r\n                onChange={event => setUsername(event.target.value)} />\r\n              {loginState === INVALID_USERPASS_ERROR && <FormHelperText>Invalid username or password</FormHelperText>}\r\n              {loginState === SERVER_ERROR && <FormHelperText>Server error</FormHelperText>}\r\n            </FormControl>\r\n            {/* Password */}\r\n            <FormControl margin=\"normal\" required fullWidth error={loginState < 0}>\r\n              <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n              <Input name=\"password\" type=\"password\" id=\"password\" autoComplete=\"current-password\"\r\n                value={password}\r\n                onChange={event => setPassword(event.target.value)} />\r\n            </FormControl>\r\n            {loginState !== ATTEMPTING_LOGIN && <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              className={classes.submit}\r\n            >\r\n              LOGIN\r\n                      </Button>}\r\n            {loginState === ATTEMPTING_LOGIN && <div className={classes.loginProgress}><CircularProgress /></div>}\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction RegistrationLink(props) {\r\n  const classes = useStyles();\r\n  const {loginType} = props;\r\n  \r\n  return (\r\n    <div>\r\n      <div className={classes.registration}>\r\n        No account yet?&nbsp;\r\n        <Link to={'/register/' + loginType}>Register</Link>\r\n      </div>\r\n      <div className={classes.otherOptions}>\r\n        <Link to={'/forgotPassword/' + loginType}>Forgot your password?</Link>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction OtherLoginOptions(props) {\r\n  const classes = useStyles();\r\n  const {loginType, attemptLogin, onFacebookClick} = props;\r\n\r\n  return (\r\n    <div className={classes.otherOptions}>\r\n      {loginType === 'user' &&\r\n        <FacebookLogin\r\n          buttonStyle={{\r\n            paddingBottom: 16,\r\n            paddingTop: 11,\r\n            height: 40,\r\n            fontSize: 16,\r\n            marginBottom: 16,\r\n          }}\r\n          appId=\"2741491196065378\"\r\n          fields=\"name,email\"\r\n          onClick={() => onFacebookClick()}\r\n          callback={(response)=>{\r\n            const loginDetails = {\r\n              UserFaceBookId:response.id,\r\n              UserEmail:response.email,\r\n              UserFacebookName:response.name,\r\n            }\r\n            attemptLogin('facebook', loginDetails);\r\n          }}\r\n          icon=\"fa-facebook\"\r\n        />\r\n      }\r\n      {loginType === 'user' ? \r\n        <div>\r\n          Are you a partner?&nbsp;\r\n          <Link to={'/login/partner'}>Login as partner</Link>\r\n        </div> :\r\n        <div>\r\n          Are you a user?&nbsp;\r\n          <Link to={'/login/user'}>Login as user</Link>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}","const errorCodesList = {\r\n  \"Provide either a idPartner or idUser\"                                                    : \"\",\r\n  \"Cannot provide both idPartner and idUser\"                                                : \"\",\r\n  \"The provided idUser or idPartner does not exist\"                                         : \"\",\r\n  \"Invalid AddressType; main address is only added upon creation of Partner/User\"           : \"\",\r\n  \"Unable to add new Address\"                                                               : \"\",\r\n  \"New Address added successfully\"                                                          : \"\",\r\n  \"idAddress is null or does not exist\"                                                     : \"\",\r\n  \"Unable to delete Address\"                                                                : \"\",\r\n  \"Address deleted successfully\"                                                            : \"\",\r\n  \"p_idAddress is null or does not exist\"                                                   : \"\",\r\n  \"Invalid idAddress\"                                                                       : \"\",\r\n  \"No row was updated\"                                                                      : \"\",\r\n  \"Update successful\"                                                                       : \"\",\r\n  \"Invalid or expired key\"                                                                  : \"\",\r\n  \"Verify error. Unable to identify user from key\"                                          : \"\",\r\n  \"Key is valid\"                                                                            : \"\",\r\n  \"BookingDateTimeFrom is an invalid datetime string\"                                       : \"\",\r\n  \"BookingDateTimeTo is an invalid datetime string\"                                         : \"\",\r\n  \"BookingPartner is null or does not exist\"                                                : \"\",\r\n  \"BookingUser is null or does not exist\"                                                   : \"\",\r\n  \"Invalid DateFrom and DateTo\"                                                             : \"\",\r\n  \"Unable to add new Booking\"                                                               : \"\",\r\n  \"New Booking added successfully\"                                                          : \"\",\r\n  \"Bookingid is null or does not exist\"                                                     : \"\",\r\n  \"Cannot update a Booking with this BookingStatus\"                                         : \"\",\r\n  \"Invalid BookingFleetType\"                                                                : \"\",\r\n  \"BookingFleetQty is null or zero or negative\"                                             : \"\",\r\n  \"Unable to add new BookingFleet\"                                                          : \"\",\r\n  \"New BookingFleet added successfully\"                                                     : \"\",\r\n  \"idBookingFleet is null or does not exist\"                                                : \"\",\r\n  \"Unable to delete BookingFleet\"                                                           : \"\",\r\n  \"BookingFleet deleted successfully\"                                                       : \"\",\r\n  \"BookingFleetQty cannot be zero or negative\"                                              : \"\",\r\n  \"Unable to update BookingFleet\"                                                           : \"\",\r\n  \"BookingFleet updated successfully\"                                                       : \"\",\r\n  \"idBooking is null or does not exist\"                                                     : \"\",\r\n  \"Must provide both BookingDateTimeFrom and BookingDateTimeTo or neither\"                  : \"\",\r\n  \"Invalid BookingStatus\"                                                                   : \"\",\r\n  \"Cannot request this booking\"                                                             : \"\",\r\n  \"Cannot quote this booking\"                                                               : \"\",\r\n  \"Cannot decline this booking\"                                                             : \"\",\r\n  \"Cannot confirm this booking\"                                                             : \"\",\r\n  \"Cannot delete this booking\"                                                              : \"\",\r\n  \"Cannot accept this booking\"                                                              : \"\",\r\n  \"Cannot update this booking\"                                                              : \"\",\r\n  \"This booking is not marked for update\"                                                   : \"\",\r\n  \"Partner name cannot be NULL\"                                                             : \"Please fill in partner company name\",\r\n  \"Partner email cannot be NULL\"                                                            : \"Please fill in partner email\",\r\n  \"Partner name already in use\"                                                             : \"Partner company name already used\",\r\n  \"Partner email is invalid\"                                                                : \"Please enter a valid email address\",\r\n  \"Partner email already in use\"                                                            : \"Partner email already used\",\r\n  \"PartnerTnCFlag value must be 1, partner must agree to the T&C\"                           : \"Please agree to the Terms and Conditions\",\r\n  \"UserFirstName cannot be null\"                                                            : \"Please enter your first name\",\r\n  \"UserEmail is invalid\"                                                                    : \"Please enter a valid email address\",\r\n  \"UserEmail already exists\"                                                                : \"This user email is taken\",\r\n  \"UserPhoneNumber already exists\"                                                          : \"This user phone number is taken\",\r\n  \"UserTnCFlag value must be 1, user must agree to the T&C\"                                 : \"Please agree to the Terms and Conditions\",\r\n  \"Unable to add new User\"                                                                  : \"Please check data entered\",\r\n  \"Invalid Login Name\"                                                                      : \"Invalid login name\",\r\n  \"Invalid Login Password\"                                                                  : \"Invalid login password\",\r\n  \"UserFirstName must be a valid string\"                                                    : \"Please enter your first name\",\r\n  \"UserEmail must be a valid string\"                                                        : \"Please enter your email address\",\r\n  \"UserEmail is not a valid email\"                                                          : \"Please enter a valid email address\",\r\n  \"UserPhoneNumber must be a valid string\"                                                  : \"Please enter your phone number\",\r\n  \"UserPassword must be a valid string\"                                                     : \"Please enter a password\",\r\n  \"UserPhoneNumberCountryCode must be a valid string\"                                       : \"Please enter your country code\",\r\n  \"UserTnCFlag must be 1 or 0\"                                                              : \"Please agree to the Terms and Conditions\",\r\n  \"UserEmailSubscribeFlag must be 1 or 0\"                                                   : \"Please check the email subscription box\",\r\n  \"Unable to register. Query failed.\"                                                       : \"Please check data entered\",\r\n  \"PartnerName must be a valid string\"                                                      : \"Please fill in partner company name\",\r\n  \"PartnerUserEmail must be a valid string\"                                                 : \"Please fill in partner email\",\r\n  \"PartnerUserEmail is not a valid email\"                                                   : \"Please enter a valid email address\",\r\n  \"PartnerUserPassword must be a valid string\"                                              : \"Please enter a password\",\r\n  \"PartnerUserFirstName must be a valid string\"                                             : \"Please enter your first name\",\r\n  \"PartnerUserLastName must be a valid string\"                                              : \"Please enter your last name\",\r\n  \"PartnerUserCountryCode must be a valid string\"                                           : \"Please enter your country code\",\r\n  \"PartnerUserMobileNumber must be a valid string\"                                          : \"Please enter your mobile number\",\r\n  \"PartnerTnCFlag must be 1 or 0\"                                                           : \"Please agree to the Terms and Conditions\",\r\n  \"PartnerEmailSubscribeFlag must be 1 or 0\"                                                : \"Please check the email subscription box\",\r\n}\r\n\r\nexport default {\r\n  translate: (errorCode) => {\r\n    const _errorCode = errorCodesList[errorCode] || errorCode;\r\n    return _errorCode;\r\n  }\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/util';\r\n\r\nconst getFleetType = async () => {\r\n  const urlExt = baseEndpoint + '/getFleetType';\r\n  const jsonPromise = baseApi(urlExt, 'GET');\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst getCountryCode = async () => {\r\n  const urlExt = baseEndpoint + '/getCountryCode';\r\n  const jsonPromise = baseApi(urlExt, 'GET');\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  getFleetType, getCountryCode\r\n}","import React, { useEffect, useState } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CssBaseline, CardContent, CardHeader, CircularProgress, FormControl, Checkbox, FormControlLabel, InputLabel, Select, MenuItem, InputAdornment, Tooltip } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport errorCodes from '../ErrorCodes/errorCodes';\r\nimport utilApi from '../APIs/utilApi';\r\n\r\nimport HelpIcon from '@material-ui/icons/Help';\r\n\r\nconst partnerDexHelpText = \"Inserisci qui una breve descrizione del tuo bike-shop e dei tuoi servizi per farti trovare dagli utenti di Baikky\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  tooltipText: {\r\n    '& .MuiTooltip-tooltip': { font:'16px arial' },\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst ATTEMPTING_REGISTER = 2;\r\nconst ERROR = -1;\r\nconst SUCCESS = 1;\r\n\r\nexport default function PartnerRegistration() {\r\n  const classes = useStyles();\r\n  const [countryCodes, setCountryCodes] = useState([]);\r\n  const [partner, setPartner] = useState({\r\n    PartnerTnCFlag:0,\r\n    PartnerEmailSubscribeFlag:0,\r\n    PartnerUserCountryCode: 127\r\n  });\r\n  const [registerState, setRegisterState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const attemptRegister = () => {\r\n    setRegisterState({...registerState, state:ATTEMPTING_REGISTER});\r\n    partnerApi.signIn(partner).then(response => {\r\n      if(response.idPartner) {\r\n        setRegisterState({errorMsg:'', state:SUCCESS});\r\n      }\r\n      else {\r\n        setRegisterState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    partner, registerState,\r\n    setPartner, attemptRegister,\r\n    countryCodes\r\n  }\r\n\r\n  useEffect(() => {\r\n    utilApi.getCountryCode().then(response => {\r\n      setCountryCodes(response.results || []);\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <CssBaseline />\r\n      {registerState.state === SUCCESS ?\r\n        <RegistrationSuccess/> :\r\n        <PartnerRegistrationForm {...registrationFormProps}/>\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction PartnerRegistrationForm(props) {\r\n  const classes = useStyles();\r\n  const {countryCodes} = props;\r\n  const {partner, registerState} = props;\r\n  const {setPartner, attemptRegister} = props;\r\n  const varNames = [\r\n    ['PartnerName','Partner Company Name', true],\r\n    ['PartnerUserEmail','Partner Email', true],\r\n    ['PartnerUserFirstName','Partner First Name', true],\r\n    ['PartnerUserLastName','Partner Last Name', true],\r\n    ['PartnerUserCountryCode','Partner Country Code', true],\r\n    ['PartnerUserMobileNumber','Partner Mobile Number', true],\r\n  ]\r\n\r\n  const checkboxProps = [\r\n    {\r\n      \"varname\":\"PartnerTnCFlag\",\r\n      \"label\":\r\n        <div>\r\n          I accept the&nbsp;\r\n          <Link \r\n            onClick={() => {\r\n              window.open(\"/dashboard/terms-of-use\", \"_blank\");\r\n            }}\r\n          >\r\n            Terms of Use\r\n          </Link> and&nbsp;\r\n          <Link\r\n            onClick={() => {\r\n              window.open(\"https://www.baikky.com/privacy-sito-baikky\", \"_blank\");\r\n            }}\r\n          >\r\n            Privacy Policy\r\n          </Link>\r\n        </div>\r\n    },\r\n    {\r\n      \"varname\":\"PartnerEmailSubscribeFlag\",\r\n      \"label\":\r\n        <div>\r\n          I accept to receive occasional emails from the\r\n          Baikky team and understand that I can change my\r\n          mind at any time\r\n        </div>\r\n    },\r\n  ]\r\n  \r\n  const CountryCodeDropDown = () => (\r\n    <FormControl fullWidth>\r\n      <InputLabel>Select Country Code</InputLabel>\r\n      <Select\r\n        value={partner.PartnerUserCountryCode || \"127\"}\r\n        onChange={event => setPartner({...partner, PartnerUserCountryCode: event.target.value})}\r\n      >\r\n        {countryCodes.map(countryCode => (\r\n          <MenuItem key={countryCode.idCountryCode} value={countryCode.idCountryCode}>\r\n            {countryCode.CountryCodeDex + \" (+\" + countryCode.CountryCodeVal + \")\"}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptRegister();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Create a Partner Account'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          {varNames.map((varName, index) => (\r\n            <div key={index}>\r\n            {varName[0] === \"PartnerUserCountryCode\" ?\r\n              <CountryCodeDropDown/> :\r\n              <TextField\r\n                required={varName[2]}\r\n                margin='normal'\r\n                fullWidth\r\n                autoFocus={index === 0}\r\n                label={varName[1]}\r\n                value={partner[varName[0]] ||''}\r\n                onChange={event => setPartner({\r\n                  ...partner,\r\n                  [varName[0]]: event.target.value\r\n                })}\r\n              />\r\n            }\r\n            </div>\r\n          ))}\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            multiline\r\n            label='Partner Description'\r\n            value={partner[\"PartnerDex\"] ||''}\r\n            onChange={event => setPartner({\r\n              ...partner,\r\n              'PartnerDex': event.target.value\r\n            })}\r\n            InputProps={{\r\n              endAdornment:\r\n                <InputAdornment position=\"end\">\r\n                  <Tooltip\r\n                    title={partnerDexHelpText}\r\n                    PopperProps={{className:classes.tooltipText}}\r\n                  >\r\n                    <HelpIcon/>\r\n                  </Tooltip>\r\n                </InputAdornment>,\r\n            }}\r\n          />\r\n          <TextField\r\n            required\r\n            margin='normal'\r\n            fullWidth\r\n            type='password'\r\n            label={'Partner User Password'}\r\n            value={partner['PartnerUserPassword'] ||''}\r\n            onChange={event => setPartner({\r\n              ...partner,\r\n              'PartnerUserPassword': event.target.value\r\n            })}\r\n          /><br/>\r\n          {checkboxProps.map((props, index) => (\r\n            <FormControl\r\n              key={index}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            >\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    value={partner[props.varname] === 1}\r\n                    onChange={event => setPartner({\r\n                      ...partner,\r\n                      [props.varname]: event.target.checked ? 1 : 0\r\n                    })}\r\n                  />\r\n                }\r\n                label={props.label}\r\n              />\r\n            </FormControl>\r\n          ))}\r\n          {registerState.state !== ATTEMPTING_REGISTER ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              Sign In\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {registerState.state === ERROR ?\r\n              errorCodes.translate(registerState.errorMsg)\r\n              : ''\r\n            }\r\n          </Typography>\r\n          <Typography\r\n            className={classes.link}\r\n            align='center'\r\n          >\r\n            Are you a user? Go to&nbsp;\r\n            <Link to='/register/user'>registrati</Link>\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}\r\n\r\nfunction RegistrationSuccess(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Registration Sent for Approval!'\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography \r\n          align='center'\r\n        >\r\n          Your registration has been sent for approval, we will get back to you by email within 24hrs, thank you!\r\n        </Typography>\r\n        <div className={classes.link} >\r\n          <Link to='/'>\r\n            Return to home\r\n          </Link>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CssBaseline, CardContent, CardHeader, CircularProgress, Checkbox, FormControlLabel, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport errorCodes from '../ErrorCodes/errorCodes';\r\nimport utilApi from '../APIs/utilApi';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst ATTEMPTING_REGISTER = 2;\r\nconst ERROR = -1;\r\nconst SUCCESS = 1;\r\n\r\nexport default function PartnerRegistration() {\r\n  const classes = useStyles();\r\n  const [countryCodes, setCountryCodes] = useState([]);\r\n  const [user, setUser] = useState({\r\n    UserTnCFlag:0,\r\n    UserEmailSubscribeFlag:0,\r\n    UserPhoneNumberCountryCode:\"127\"\r\n  });\r\n  const [registerState, setRegisterState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const attemptRegister = () => {\r\n    setRegisterState({...registerState, state:ATTEMPTING_REGISTER});\r\n    userApi.register(user).then(response => {\r\n      if(response.idUser) {\r\n        setRegisterState({errorMsg:'', state:SUCCESS});\r\n      }\r\n      else {\r\n        setRegisterState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    user, registerState,\r\n    setUser, attemptRegister,\r\n    countryCodes\r\n  }\r\n\r\n  useEffect(() => {\r\n    utilApi.getCountryCode().then(response => {\r\n      setCountryCodes(response.results || []);\r\n    })\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <main className={classes.root}>\r\n      <CssBaseline />\r\n      {registerState.state === SUCCESS ?\r\n        <RegistrationSuccess/> :\r\n        <UserRegistrationForm {...registrationFormProps}/>\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nfunction UserRegistrationForm(props) {\r\n  const classes = useStyles();\r\n  const {countryCodes} = props;\r\n  const {user, registerState} = props;\r\n  const {setUser, attemptRegister} = props;\r\n  const varNames = [\r\n    ['UserFirstName','User First Name', true],\r\n    ['UserLastName','User Last Name', true],\r\n    ['UserEmail','User Email', true],\r\n    ['UserPhoneNumberCountryCode','User Phone Country Code', true],\r\n    ['UserPhoneNumber','User Phone Number', true],\r\n  ]\r\n\r\n  const checkboxProps = [\r\n    {\r\n      \"varname\":\"UserTnCFlag\",\r\n      \"label\":\r\n        <div>\r\n          I accept the&nbsp;\r\n          <Link \r\n            onClick={() => {\r\n              window.open(\"/dashboard/terms-of-use\", \"_blank\");\r\n            }}\r\n          >\r\n            Terms of Use\r\n          </Link> and&nbsp;\r\n          <Link\r\n            onClick={() => {\r\n              window.open(\"https://www.baikky.com/privacy-sito-baikky\", \"_blank\");\r\n            }}\r\n          >\r\n            Privacy Policy\r\n          </Link>\r\n        </div>\r\n    },\r\n    {\r\n      \"varname\":\"UserEmailSubscribeFlag\",\r\n      \"label\":\r\n        <div>\r\n          I accept to receive occasional emails from the\r\n          Baikky team and understand that I can change my\r\n          mind at any time\r\n        </div>\r\n    },\r\n  ]\r\n\r\n  const CountryCodeDropDown = () => (\r\n    <FormControl fullWidth>\r\n      <InputLabel>Select Country Code</InputLabel>\r\n      <Select\r\n        value={user.UserPhoneNumberCountryCode}\r\n        onChange={event => setUser({...user, UserPhoneNumberCountryCode: event.target.value})}\r\n      >\r\n        {countryCodes.map(countryCode => (\r\n          <MenuItem key={countryCode.idCountryCode} value={countryCode.idCountryCode}>\r\n            {countryCode.CountryCodeDex + \" (+\" + countryCode.CountryCodeVal + \")\"}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptRegister();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Create a User Account'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          {varNames.map((varName, index) => (\r\n            <div key={index}>\r\n            {varName[0] === 'UserPhoneNumberCountryCode' ?\r\n              <CountryCodeDropDown/> :\r\n              <TextField\r\n                required={varName[2]}\r\n                margin='normal'\r\n                fullWidth\r\n                autoFocus={index === 0}\r\n                label={varName[1]}\r\n                value={user[varName[0]] ||''}\r\n                onChange={event => setUser({\r\n                  ...user,\r\n                  [varName[0]]: event.target.value\r\n                })}\r\n              />\r\n            }\r\n            </div>\r\n          ))}\r\n          <TextField\r\n            required\r\n            margin='normal'\r\n            fullWidth\r\n            type='password'\r\n            label={'User Password'}\r\n            value={user['UserPassword'] ||''}\r\n            onChange={event => setUser({\r\n              ...user,\r\n              'UserPassword': event.target.value\r\n            })}\r\n          /><br/>\r\n          {checkboxProps.map((props, index) => (\r\n            <FormControl\r\n              key={index}\r\n              fullWidth\r\n              margin=\"normal\"\r\n            >\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox \r\n                    value={user[props.varname] === 1}\r\n                    onChange={event => setUser({\r\n                      ...user,\r\n                      [props.varname]: event.target.checked ? 1 : 0\r\n                    })}\r\n                  />\r\n                }\r\n                label={props.label}\r\n              />\r\n            </FormControl>\r\n          ))}\r\n          {registerState.state !== ATTEMPTING_REGISTER ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              Sign In\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {registerState.state === ERROR ?\r\n              errorCodes.translate(registerState.errorMsg)\r\n              : ''\r\n            }\r\n          </Typography>\r\n          <Typography\r\n            align='center'\r\n            className={classes.link}\r\n          >\r\n            Are you a partner? Go to&nbsp;\r\n            <Link to='/register/partner'>diventa partner</Link>\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}\r\n\r\nfunction RegistrationSuccess(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Registration Successful!'\r\n      />\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography \r\n          align='center'\r\n        >\r\n          Your registration was successful!&nbsp;\r\n          A verification link has been sent to your email.\r\n        </Typography>\r\n        <div className={classes.link} >\r\n          <Link to='/login/user'>\r\n            Return to login\r\n          </Link>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import React from 'react';\r\nimport { makeStyles, List, ListItem, Divider } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    overflow: 'auto',\r\n  },\r\n  divider: {\r\n    marginTop:theme.spacing(1),\r\n    marginBottom:theme.spacing(1)\r\n  }\r\n}))\r\n\r\n/**\r\n * \r\n * @typedef {Object} Button \r\n * @property {string} label\r\n * @property {*} onClick\r\n * @property {boolean} isDivider\r\n * @property {boolean} isSelected\r\n */\r\n\r\n/**\r\n * \r\n * @param {Object} props \r\n * @param {Button[]} props.buttons\r\n */\r\nexport default function DrawerButtons(props) {\r\n  const classes = useStyles();\r\n  const { buttons } = props;\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <List>\r\n      {buttons.map((button, index) => (\r\n        button.isDivider ?\r\n          <Divider \r\n            key={index} \r\n            className={classes.divider}\r\n          /> :\r\n          <ListItem\r\n            key={index}\r\n            button\r\n            onClick={() => button.onClick()}\r\n            selected={button.isSelected}\r\n          >\r\n            {button.label}\r\n          </ListItem>\r\n      ))}\r\n      </List>\r\n    </div>\r\n  )\r\n}","export const drawerWidth = 240;\r\nexport const devWarningHeight = 51;\r\nexport const appBarHeight = 60 + devWarningHeight;","import React from 'react';\r\nimport {drawerWidth, appBarHeight} from './_globals';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height:appBarHeight,\r\n    marginLeft: drawerWidth,\r\n    width:'100%',\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n    },\r\n  }\r\n}));\r\n\r\n/**\r\n * \r\n * @param {object} props \r\n * @param {string} props.backgroundColor\r\n */\r\nfunction AppBarComp(props) {\r\n  const classes = useStyles();\r\n  const {backgroundColor, setDrawerOpen} = props;\r\n  return (\r\n    <AppBar \r\n      style={{background:backgroundColor}}\r\n      className={classes.root}\r\n      position='fixed'\r\n    >\r\n      <Toolbar>\r\n        <Hidden mdUp>\r\n          <IconButton\r\n            onClick={setDrawerOpen}\r\n            edge=\"start\"\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n        </Hidden>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default AppBarComp;\r\n","import React from 'react';\r\nimport {drawerWidth, appBarHeight, devWarningHeight} from './_globals';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width:drawerWidth\r\n  },\r\n  drawerPaper: {\r\n    width:drawerWidth\r\n  },\r\n  drawerTopSpace: {\r\n    height:appBarHeight - devWarningHeight,\r\n    textAlign:'center'\r\n  },\r\n  devWarningSpace: {\r\n    height: devWarningHeight,\r\n    borderBottom:'1px solid',\r\n    background:'bisque'\r\n  }\r\n}));\r\n\r\n/**\r\n * \r\n * @param {object} props \r\n * @param {string} props.drawerTopComponents\r\n */\r\nfunction DrawerComp(props) {\r\n  const classes = useStyles();\r\n  const {children} = props;\r\n  return (\r\n    <Drawer \r\n      className={classes.root}\r\n      classes={{\r\n        paper:classes.drawerPaper\r\n      }}\r\n      variant=\"permanent\"\r\n      open\r\n    >\r\n      <div className={classes.devWarningSpace}/>\r\n      <DrawerTopSpace {...props}/>\r\n      <Divider/>\r\n      {children}\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nfunction DrawerTopSpace(props) {\r\n  const classes = useStyles();\r\n  const {drawerTopComponents} = props;\r\n  return (\r\n    <div className={classes.drawerTopSpace}>\r\n      {drawerTopComponents}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DrawerComp;\r\n","import React from 'react';\r\nimport {drawerWidth, appBarHeight} from './_globals';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width:drawerWidth\r\n  },\r\n  drawerPaper: {\r\n    width:drawerWidth\r\n  },\r\n  drawerTopComponent: {\r\n    flex:1\r\n  },\r\n  drawerTopSpace: {\r\n    display:'flex',\r\n    height:appBarHeight,\r\n    paddingLeft:theme.spacing(2),\r\n    paddingRight:theme.spacing(2),\r\n    paddingTop:theme.spacing(1)\r\n  }\r\n}));\r\n\r\n/**\r\n * \r\n * @param {object} props \r\n * @param {string} props.drawerTopComponents\r\n */\r\nfunction SlideDrawerComp(props) {\r\n  const classes = useStyles();\r\n  const {drawerOpen, setDrawerClose} = props;\r\n\r\n  const {children} = props;\r\n  return (\r\n    <Drawer \r\n      className={classes.root}\r\n      classes={{\r\n        paper:classes.drawerPaper\r\n      }}\r\n      open={drawerOpen}\r\n      onClose={setDrawerClose}\r\n      anchor='left'\r\n    >\r\n      <DrawerTopSpace {...props}/>\r\n      <Divider/>\r\n      {children}\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nfunction DrawerTopSpace(props) {\r\n  const classes = useStyles();\r\n  const {setDrawerClose, drawerTopComponents} = props;\r\n  \r\n  return (\r\n    <div className={classes.drawerTopSpace}>\r\n      <div className={classes.drawerTopComponent}>\r\n        {drawerTopComponents}\r\n      </div>\r\n      <IconButton onClick={setDrawerClose}>\r\n        <ChevronLeftIcon />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SlideDrawerComp;\r\n","import React, { useState } from 'react';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nimport AppBarComp from './AppBarComp';\r\nimport DrawerComp from './DrawerComp';\r\nimport SlideDrawerComp from './SlideDrawerComp';\r\n\r\n/**\r\n * \r\n * @param {object} props \r\n * @param {string} props.appBarProps.backgroundColor\r\n * @param {object[]} props.drawerProps.drawerTopComponents\r\n * @param {object[]} props.drawerChildren\r\n */\r\nfunction AppBarDrawerComp(props) {\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const {appBarProps, drawerProps} = props;\r\n  const {drawerChildren} = props;\r\n  return (\r\n    <div>\r\n      <AppBarComp \r\n        {...appBarProps} \r\n        setDrawerOpen={() => setDrawerOpen(true)}\r\n      />\r\n      <Hidden smDown>\r\n        <DrawerComp \r\n          {...drawerProps}\r\n          drawerOpen={drawerOpen}\r\n          setDrawerClose={() => setDrawerOpen(false)}\r\n        >\r\n          {drawerChildren}\r\n        </DrawerComp>\r\n      </Hidden>\r\n      <Hidden mdUp>\r\n        <SlideDrawerComp \r\n          {...drawerProps}\r\n          drawerOpen={drawerOpen}\r\n          setDrawerClose={() => setDrawerOpen(false)}\r\n        >\r\n          {drawerChildren}\r\n        </SlideDrawerComp>\r\n      </Hidden>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppBarDrawerComp;","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/destination';\r\n\r\nexport default {\r\n  destinationGet: (requestBody) => get(requestBody),\r\n  destinationAdd: (apiKey, requestBody) => add(apiKey, requestBody),\r\n  destinationUpdate: (apiKey, requestBody) => update(apiKey, requestBody),\r\n  destinationDelete: (apiKey, requestBody) => destinationDelete(apiKey, requestBody),\r\n}\r\n\r\nasync function get(requestBody) {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function add(apiKey, requestBody) {\r\n  const urlExt = baseEndpoint + '/add';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function update(apiKey, requestBody) {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function destinationDelete(apiKey, requestBody) {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};","import React, { useState, useEffect } from 'react';\r\nimport destinationApi from '../APIs/destinationApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemAvatar, Avatar, ListItemText, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport ImageTwoToneIcon from '@material-ui/icons/ImageTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  imageDiv: {\r\n    textAlign:'center'\r\n  },\r\n  image: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    width:250,\r\n    height:250\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function AdminDestination() {\r\n  const classes = useStyles();\r\n  const [destinations, setDestinations] = useState([]);\r\n  const [selectedDestination, setSelectedDestination] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setSelectedDestination({});\r\n    setDestinations([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    destinationApi.destinationGet(ApiKey).then(response => {\r\n      if(response.error_code === 0) {\r\n        setDestinations(response.results);\r\n        setFormState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setFormState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Add\":() => destinationApi.destinationAdd(ApiKey, selectedDestination),\r\n    \"Update\":() => destinationApi.destinationUpdate(ApiKey, selectedDestination),\r\n    \"Delete\":() => destinationApi.destinationDelete(ApiKey, selectedDestination),\r\n  }\r\n  const modifyDestination = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' destination successful!');\r\n        reload();\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const destinationListProps = {\r\n    formState, destinations\r\n  }\r\n  const destinationFormProps = {\r\n    formState, destinations,\r\n    modifyDestination,\r\n    destination:selectedDestination, \r\n    setDestination:setSelectedDestination\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <DestinationForm {...destinationFormProps}/>\r\n      <DestinationList {...destinationListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction DestinationList(props) {\r\n  const classes = useStyles();\r\n  const {destinations, formState} = props;\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Destination List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {destinations.map((destination) => (\r\n              <ListItem key={destination.idDestination} button>\r\n                <ListItemAvatar>\r\n                  <Avatar\r\n                    src={'data:image/jpeg;base64,' + destination.DestinationPictureBase64}\r\n                  >\r\n                    {!destination.DestinationPictureBase64 &&\r\n                      <ImageIcon />\r\n                    }\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText \r\n                  className={classes.listItemText}\r\n                  primary={destination.DestinationName} \r\n                  secondary={destination.DestinationDex}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction DestinationForm(props) {\r\n  const classes = useStyles();\r\n  const {formState, destinations} = props;\r\n  const {destination, setDestination, modifyDestination} = props;\r\n  const varNames = [\r\n    [\"DestinationName\",\"Destination Name\"],\r\n    [\"DestinationUrl\",\"Destination Url\"],\r\n    [\"DestinationSpatialX\",\"Destination Latitude\",\"number\"],\r\n    [\"DestinationSpatialY\",\"Destination Longitude\",\"number\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:destination.idDestination > -1},\r\n    {label:\"Update\", isD:!(destination.idDestination > -1)},\r\n    {label:\"Delete\", isD:!(destination.idDestination > -1)}\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n      >\r\n        <InputLabel>Select Destination</InputLabel>\r\n        <Select\r\n          value={destination.idDestination || -1}\r\n          onChange={event => setDestination(destinations.find(destination => destination.idDestination === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Destination</em>\r\n          </MenuItem>\r\n          {destinations.map(destination => (\r\n            <MenuItem key={destination.idDestination} value={destination.idDestination}>\r\n              {destination.DestinationName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={destination[varName[0]] ||''}\r\n            onChange={event => setDestination({\r\n              ...destination,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            type={varName[2] || \"\"}\r\n          />\r\n        </div>\r\n      ))}\r\n      <TextField\r\n        margin='normal'\r\n        fullWidth\r\n        multiline\r\n        label='Destination Description'\r\n        value={destination[\"DestinationDex\"] ||''}\r\n        onChange={event => setDestination({\r\n          ...destination,\r\n          'DestinationDex': event.target.value\r\n        })}\r\n      />\r\n      <div className={classes.imageDiv}>\r\n        {destination.DestinationPictureBase64 ? \r\n          <img\r\n            style={{marginBottom:32, maxWidth:250, maxHeight:250}}\r\n            className={classes.image}\r\n            alt='destination'\r\n            src={destination.DestinationPictureBase64 && \"data:image/png;base64,\" + destination.DestinationPictureBase64}\r\n          /> :\r\n          <ImageTwoToneIcon\r\n            className={classes.image}\r\n          />\r\n        }\r\n        <br/>\r\n        <input\r\n          accept=\"image/*\"\r\n          className={classes.input}\r\n          id=\"contained-button-file-update\"\r\n          type=\"file\"\r\n          style={{display:'none'}}\r\n          onChange={event => {\r\n            if(event.target.files.length > 0) {\r\n              console.log(\"length\", event.target.files.length)\r\n              const fileReader = new FileReader();\r\n              fileReader.onloadend = () => (\r\n                setDestination({\r\n                  ...destination,\r\n                  DestinationPictureBase64:fileReader.result.substring(\r\n                    fileReader.result.indexOf(\"base64,\") + 7\r\n                  )\r\n                })\r\n              );\r\n              fileReader.readAsDataURL(event.target.files[0])\r\n            }\r\n          }}\r\n        />\r\n        <label htmlFor=\"contained-button-file-update\">\r\n          <Button \r\n            className={classes.halfWidthButton}\r\n            variant=\"outlined\" \r\n            component=\"span\"\r\n          >\r\n            Select Image\r\n          </Button>\r\n        </label>\r\n      </div>\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type=\"submit\"\r\n          disabled={buttonProp.isD}\r\n          onClick={() => modifyDestination(buttonProp.label)}\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Modify Destination'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport utilApi from '../APIs/utilApi';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function AdminManagePartner() {\r\n  const classes = useStyles();\r\n  const [partners, setPartners] = useState([]);\r\n  const [selectedPartner, setSelectedPartner] = useState({});\r\n  const [countryCodes, setCountryCodes] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setSelectedPartner({});\r\n    setPartners([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results || response.result);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => utilApi.getCountryCode(), setCountryCodes);\r\n    apiCall(() => partnerApi.get(ApiKey), setPartners);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Add\":() => partnerApi.add(ApiKey, selectedPartner),\r\n    \"Update\":() => partnerApi.update(ApiKey, selectedPartner),\r\n    \"Suspend\":() => partnerApi.suspend(ApiKey, selectedPartner.idPartner, true),\r\n    \"Confirm\":() => partnerApi.confirm(ApiKey, selectedPartner.idPartner, true),\r\n    \"Remove Suspend\":() => partnerApi.suspend(ApiKey, selectedPartner.idPartner, false),\r\n    \"Reject\":() => partnerApi.confirm(ApiKey, selectedPartner.idPartner, false),\r\n    \"Delete\":() => partnerApi.delete(ApiKey, selectedPartner.idPartner),\r\n  }\r\n  const modifyPartner = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const partnerFormProps = {\r\n    countryCodes,\r\n    formState, partners,\r\n    modifyPartner,\r\n    partner:selectedPartner, \r\n    setPartner:setSelectedPartner\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerForm {...partnerFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerForm(props) {\r\n  const classes = useStyles();\r\n  const {countryCodes} = props;\r\n  const {formState, partners} = props;\r\n  const {partner, setPartner, modifyPartner} = props;\r\n\r\n  const readOnlyVars = [\r\n    [\"idPartner\",\"Partner ID\"],\r\n    [\"PartnerStatusDex\",\"Partner Status\"],\r\n  ]\r\n\r\n  const varNames = [\r\n    [\"PartnerName\",\"Partner Name\", true],\r\n    [\"PartnerUserEmail\", \"Partner Email\", true],\r\n    [\"PartnerUserFirstName\", \"Partner First Name\", true],\r\n    [\"PartnerUserLastName\", \"Partner Last Name\", true],\r\n    [\"PartnerUserCountryCode\", \"Partner Country Code\", true],\r\n    [\"PartnerUserMobileNumber\", \"Partner Mobile Number\", true],\r\n    [\"PartnerUserPhoneNumber\", \"Partner Phone Number\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:partner.idPartner > -1, type:\"submit\"},\r\n    {label:\"Update\", isD:!(partner.idPartner > -1)},\r\n    {label:\"Delete\", isD:!(partner.idPartner > -1)},\r\n    {label:\"Confirm\", isD:!(partner.idPartner > -1) || !['N','R'].includes(partner.PartnerStatus)},\r\n    {label:\"Reject\", isD:!(partner.idPartner > -1) || !['A','R'].includes(partner.PartnerStatus)},\r\n    {label:\"Suspend\", isD:!(partner.idPartner > -1) || !['A'].includes(partner.PartnerStatus)},\r\n    {label:\"Remove Suspend\", isD:!(partner.idPartner > -1) || !['S'].includes(partner.PartnerStatus)},\r\n  ];\r\n\r\n  const CountryCodeDropDown = () => (\r\n    <FormControl fullWidth>\r\n      <InputLabel>Select Country Code</InputLabel>\r\n      <Select\r\n        value={partner.PartnerUserCountryCode || \"127\"}\r\n        onChange={event => setPartner({...partner, PartnerUserCountryCode: event.target.value})}\r\n      >\r\n        {countryCodes.map(countryCode => (\r\n          <MenuItem key={countryCode.idCountryCode} value={countryCode.idCountryCode}>\r\n            {countryCode.CountryCodeDex + \" (+\" + countryCode.CountryCodeVal + \")\"}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n  \r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n      >\r\n        <InputLabel>Select Partner</InputLabel>\r\n        <Select\r\n          value={partner.idPartner || -1}\r\n          onChange={event => setPartner(partners.find(partner => partner.idPartner === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Partner</em>\r\n          </MenuItem>\r\n          {partners.map(partner => (\r\n            <MenuItem key={partner.idPartner} value={partner.idPartner}>\r\n              {partner.PartnerName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {readOnlyVars.map((varName, index) => (\r\n        <TextField\r\n          key={index}\r\n          margin='normal'\r\n          fullWidth\r\n          label={varName[1]}\r\n          value={partner[varName[0]] ||'NA'}\r\n          InputProps={{\r\n            style:{background:'#EBEBE4'},\r\n            readOnly: true,\r\n          }}\r\n        />\r\n      ))}\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          {varName[0] === \"PartnerUserCountryCode\" ?\r\n            <CountryCodeDropDown/> :\r\n            <TextField\r\n              margin='normal'\r\n              fullWidth\r\n              autoFocus={index === 0}\r\n              label={varName[1]}\r\n              value={partner[varName[0]] ||''}\r\n              onChange={event => setPartner({\r\n                ...partner,\r\n                [varName[0]]: event.target.value\r\n              })}\r\n              required={varName[2]}\r\n            />\r\n          }\r\n        </div>\r\n      ))}\r\n      <TextField\r\n        margin='normal'\r\n        fullWidth\r\n        multiline\r\n        label='Partner Description'\r\n        value={partner[\"PartnerDex\"] ||''}\r\n        onChange={event => setPartner({\r\n          ...partner,\r\n          'PartnerDex': event.target.value\r\n        })}\r\n      />\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyPartner(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyPartner(\"Add\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Modify Partner'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText, ListItemSecondaryAction, IconButton, Tooltip, Typography } from '@material-ui/core';\r\nimport ConfirmIcon from '@material-ui/icons/Check';\r\nimport RejectIcon from '@material-ui/icons/Clear';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    whiteSpace:'pre'\r\n  },\r\n  secondaryActionButton: {\r\n    marginLeft:theme.spacing(2)\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function AdminPartnerConfirm() {\r\n  const classes = useStyles();\r\n  const [partners, setPartners] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setPartners([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => partnerApi.get(ApiKey), setPartners);\r\n  }\r\n\r\n  const modifyPartner = (idPartner, confirm) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    partnerApi.confirm(ApiKey, idPartner, confirm).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(\"Partner Updated!\");\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const partnerListProps = {\r\n    formState, partners, modifyPartner\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerList {...partnerListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerList(props) {\r\n  const classes = useStyles();\r\n  const {partners, formState, modifyPartner} = props;\r\n\r\n  const unconfirmedPartners = partners.filter(partner => partner.PartnerStatus === 'R')\r\n  const otherPartners = partners.filter(partner => partner.PartnerStatus !== 'R')\r\n\r\n  const partnerListItem = (partner) => (\r\n    <ListItem \r\n      key={partner.idPartner}\r\n    >\r\n      <ListItemText \r\n        className={classes.listItemText}\r\n        primary={partner.PartnerName} \r\n        secondary={\r\n          \"Status: \" + partner.PartnerStatus + \"\\n\" + \r\n          \"Status Dex: \" + partner.PartnerStatusDex\r\n        }\r\n      />\r\n      <ListItemSecondaryAction>\r\n        <div>\r\n          <IconButton \r\n            className={classes.secondaryActionButton}\r\n            edge=\"end\" aria-label=\"confirm\"\r\n            disabled={!['R','N'].includes(partner.PartnerStatus)}\r\n            onClick={() => modifyPartner(partner.idPartner, true)}\r\n          >\r\n            <Tooltip title=\"Confirm\">\r\n              <ConfirmIcon />\r\n            </Tooltip>\r\n          </IconButton>\r\n          <IconButton \r\n            className={classes.secondaryActionButton}\r\n            edge=\"end\" aria-label=\"confirm\"\r\n            disabled={!['R'].includes(partner.PartnerStatus)}\r\n            onClick={() => modifyPartner(partner.idPartner, false)}\r\n          >\r\n            <Tooltip title=\"reject\">\r\n              <RejectIcon />\r\n            </Tooltip>\r\n          </IconButton>\r\n        </div>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  )\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Confirm a Partner'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {unconfirmedPartners.map((partner) => (\r\n              partnerListItem(partner)\r\n            ))}\r\n            {otherPartners.map((partner) => (\r\n              partnerListItem(partner)\r\n            ))}\r\n          </List>\r\n        }\r\n        <Typography \r\n          className={classes.errorMessage}\r\n          align='center'\r\n        >\r\n          {formState.state === ERROR ?\r\n            formState.errorMsg : ''\r\n          }\r\n        </Typography>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText } from '@material-ui/core';\r\nimport utilApi from '../APIs/utilApi';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    whiteSpace:'pre'\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function AdminPartnerList() {\r\n  const classes = useStyles();\r\n  const [partners, setPartners] = useState([]);\r\n  const [countryCodes, setCountryCodes] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setPartners([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => utilApi.getCountryCode(), setCountryCodes);\r\n    apiCall(() => partnerApi.get(ApiKey), setPartners);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const partnerListProps = {\r\n    formState, partners, countryCodes\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerList {...partnerListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerList(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {countryCodes} = props;\r\n\r\n  const partners = props.partners.map(partner => {\r\n    const countryCode = countryCodes.find(code => code.idCountryCode === partner.PartnerUserCountryCode)\r\n    return ({\r\n      ...partner,\r\n      PartnerUserCountryCode: countryCode ? \"+\" + countryCode.CountryCodeVal : \"\"\r\n    })\r\n  })\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Partner List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {partners.map((partner, index) => (\r\n              <ListItem \r\n                key={index}\r\n              >\r\n                <ListItemText \r\n                  className={classes.listItemText}\r\n                  primary={partner.PartnerName} \r\n                  secondary={\r\n                    Object.keys(partner).map(key => (\r\n                      <div style={{display:'flex'}} key={key}>\r\n                        <div style={{width:230}}>\r\n                          {key}:\r\n                        </div>\r\n                        <div>\r\n                          {partner[key] || \"NA\"}\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  }\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, Button, Card, CardContent, CardHeader, CircularProgress, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function AdminPartnerType() {\r\n  const classes = useStyles();\r\n  const [partners, setPartners] = useState([]);\r\n  const [selectedPartner, setSelectedPartner] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setSelectedPartner({});\r\n    setPartners([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    partnerApi.get(ApiKey).then(response => {\r\n      if(response.error_code === 0) {\r\n        setPartners(response.results);\r\n        setFormState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setFormState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Update\":() => partnerApi.update(ApiKey, \r\n      {\r\n        idPartner: selectedPartner.idPartner,\r\n        PartnerUserRight: selectedPartner.PartnerUserRight\r\n      }),\r\n  }\r\n  const modifyPartner = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const partnerFormProps = {\r\n    formState, partners,\r\n    modifyPartner,\r\n    partner:selectedPartner, \r\n    setPartner:setSelectedPartner,\r\n    loginDetails\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerForm {...partnerFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerForm(props) {\r\n  const classes = useStyles();\r\n  const {formState, partners} = props;\r\n  const {partner, setPartner, modifyPartner} = props;\r\n  const {loginDetails} = props;\r\n\r\n  const partnerRights = [\r\n    {val:91, authAdminRight:[\"10\",\"11\"], label:'Partner'},\r\n    {val:60, authAdminRight:[\"10\",\"11\"], label:'Bike Rental Administrator'},\r\n    {val:11, authAdminRight:[\"10\"], label:'Partner Administrator'},\r\n  ]\r\n\r\n  const partnerRightsFiltered = partnerRights.filter(right => (\r\n    right.authAdminRight.includes(loginDetails[\"PartnerUserRight\"])\r\n  ))\r\n\r\n  const buttonProps = [\r\n    {label:\"Update\", isD:!(partner.idPartner > -1), type:\"submit\"},\r\n  ];\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n      >\r\n        <InputLabel>Select Partner</InputLabel>\r\n        <Select\r\n          value={partner.idPartner || ''}\r\n          onChange={event => setPartner(partners.find(partner => partner.idPartner === event.target.value) || {})}\r\n        >\r\n          {partners.map(partner => (\r\n            <MenuItem key={partner.idPartner} value={partner.idPartner}>\r\n              {partner.PartnerName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n      >\r\n        <InputLabel>Partner Type</InputLabel>\r\n        <Select\r\n          value={partner.PartnerUserRight || ''}\r\n          onChange={event => setPartner({\r\n            ...partner,\r\n            PartnerUserRight:event.target.value\r\n          })}\r\n        >\r\n          {partnerRightsFiltered.map(right => (\r\n            <MenuItem key={right.val} value={right.val}>\r\n              {right.val}: {right.label}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyPartner(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyPartner(\"Update\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Set Partner Type'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText } from '@material-ui/core';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    whiteSpace:'pre'\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function AdminUserList() {\r\n  const classes = useStyles();\r\n  const [users, setUsers] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setUsers([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === \"0\") {\r\n          setCallback(response.results || []);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => userApi.get(ApiKey), setUsers);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const userListProps = {\r\n    formState, users\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserList {...userListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserList(props) {\r\n  const classes = useStyles();\r\n  const {users, formState} = props;\r\n\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='User List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {users.map((user, index) => (\r\n              <ListItem \r\n                key={index}\r\n              >\r\n                <ListItemText \r\n                  className={classes.listItemText}\r\n                  primary={user.UserName} \r\n                  secondary={\r\n                    Object.keys(user).map(key => (\r\n                      <div style={{display:'flex'}} key={key}>\r\n                        <div style={{width:230}}>\r\n                          {key}:\r\n                        </div>\r\n                        <div>\r\n                          {user[key] || \"NA\"}\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  }\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/address';\r\n\r\nconst getSelf = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/getSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst updateSelf = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/updateSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst setDefaultSelf = async (apiKey, idAddress) => {\r\n  const urlExt = baseEndpoint + '/setDefaultSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idAddress}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  getSelf, updateSelf, setDefaultSelf\r\n}","import React, { useState, useEffect } from 'react';\r\nimport addressApi from '../APIs/addressApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerAddress() {\r\n  const classes = useStyles();\r\n  const [curAddrIndex, setCurAddrIndex] = useState(0);\r\n  const [addresses, setAddresses] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setAddresses([])\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => addressApi.getSelf(ApiKey), setAddresses);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const formSubmitActions = {\r\n    \"Update\":(address) => addressApi.updateSelf(ApiKey, address),\r\n    \"Set Default\":(address) => addressApi.setDefaultSelf(ApiKey, address.idAddress),\r\n  };\r\n\r\n  const submitForm = (action, address) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const formSubmitAction = formSubmitActions[action];\r\n    formSubmitAction(address).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' address successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const getFormProps = (addressType) => ({\r\n    address: addresses.find(address => address.AddressType === addressType) || {},\r\n    setAddress: (address) => {\r\n      const index = addresses.findIndex(address => address.AddressType === addressType);\r\n      const newAddresses = [...addresses];\r\n      newAddresses[index] = address;\r\n      setAddresses(newAddresses)\r\n    },\r\n    formState, submitForm\r\n  })\r\n\r\n  const formProps = {\r\n    addresses,\r\n    setAddress: (address) => {\r\n      const newAddresses = [...addresses];\r\n      newAddresses[curAddrIndex] = address;\r\n      setAddresses(newAddresses);\r\n    },\r\n    formState, submitForm,\r\n    curAddrIndex, setCurAddrIndex\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerAddressForm {...formProps}/>\r\n      {/* <PartnerAddressForm {...getFormProps(\"01\")}/>\r\n      <PartnerAddressForm {...getFormProps(\"03\")}/>\r\n      <PartnerAddressForm {...getFormProps(\"04\")}/> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerAddressForm(props) {\r\n  const classes = useStyles();\r\n  const {formState, submitForm} = props;\r\n  const {addresses, setAddress} = props;\r\n  const {curAddrIndex, setCurAddrIndex} = props;\r\n  const address = addresses[curAddrIndex] || {};\r\n  \r\n  const varNames = [\r\n    [\"AddressDex\", \"Address Dex\"],\r\n    [\"AddressStreet1\", \"Address Street 1\"],\r\n    [\"AddressStreet2\", \"Address Street 2\"],\r\n    [\"AddressNumber\", \"Address Number\"],\r\n    [\"AddressCity\", \"Address City\"],\r\n    [\"AddressProvince\", \"Address Province\"],\r\n    [\"AddressZIP\", \"Address ZIP\"],\r\n    [\"AddressCountry\", \"Address Country\"],\r\n    [\"AddressNotel\", \"Address Notel\"],\r\n    [\"AddressSpatialX\", \"Address Lat\"],\r\n    [\"AddressSpatialY\", \"Address Lon\"],\r\n    [\"AddressVAT\", \"Address VAT\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Update\", isD:false, type:\"submit\"},\r\n    {label:\"Set Default\", isD:false},\r\n  ]\r\n\r\n  const AddressDropDown = () => (\r\n    <FormControl fullWidth>\r\n      <InputLabel>Select Address</InputLabel>\r\n      <Select\r\n        value={curAddrIndex}\r\n        onChange={event => setCurAddrIndex(event.target.value)}\r\n      >\r\n        {addresses.map((address, index) => (\r\n          <MenuItem key={index} value={index}>\r\n            {address.AddressTypeDex}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <AddressDropDown/>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={address[varName[0]] ||''}\r\n            onChange={event => setAddress({\r\n              ...address,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: varName[2] ? '#EBEBE4' : ''},\r\n              readOnly: varName[2],\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n        {buttonProps.map(buttonProp => (\r\n          <Button\r\n            key={buttonProp.label}\r\n            variant=\"outlined\" \r\n            className={classes.halfWidthButton}\r\n            type={buttonProp.type || \"\"}\r\n            disabled={buttonProp.isD}\r\n            onClick={\r\n              buttonProp.type === \"submit\" ?\r\n                \"\" :\r\n                () => submitForm(buttonProp.label, address)\r\n            }\r\n          >\r\n            {buttonProp.label}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        submitForm(\"Update\", address);\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title={\r\n            'Partner ' + (address.AddressTypeDex || '') + ' Address ' + \r\n            (address.AddressDefault === \"1\" ? \"(Default)\" : \"\")\r\n          }\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/partnerBooking';\r\n\r\nconst get = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst quote = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/quote';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst accept = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/accept';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  get, quote, accept\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/partnerBookingFleet';\r\n\r\nconst get = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  get\r\n}","import React, { useState, useEffect, Fragment } from 'react';\r\nimport partnerBookingApi from '../APIs/partnerBookingApi';\r\nimport partnerBookingFleetApi from '../APIs/partnerBookingFleetApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText, FormControl, InputLabel, Select, MenuItem, Collapse, Divider } from '@material-ui/core';\r\n\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  imageDiv: {\r\n    textAlign:'center'\r\n  },\r\n  image: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    width:250,\r\n    height:250\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    whiteSpace:'pre'\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerBooking() {\r\n  const classes = useStyles();\r\n  const [bookings, setBookings] = useState([]);\r\n  const [fleets, setFleets] = useState([]);\r\n  const [booking, setBooking] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setBooking({});\r\n    setBookings([]);\r\n    setFleets([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => partnerBookingApi.get(ApiKey), setBookings);\r\n    apiCall(() => partnerBookingFleetApi.get(ApiKey), setFleets);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyBookingActions = {\r\n    \"Quote\":() => partnerBookingApi.quote(ApiKey, {...booking, QuoteApprove:true}),\r\n    \"Accept\":() => partnerBookingApi.accept(ApiKey, {...booking, BookingAccept:true}),\r\n    \"Decline\":() => partnerBookingApi.accept(ApiKey, {...booking, BookingAccept:false}),\r\n  };\r\n\r\n  const modifyBooking = (action, type) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyBookingActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' ' + type + ' successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const bookingListProps = {\r\n    formState, bookings, fleets\r\n  }\r\n  const bookingFormProps = {\r\n    formState, bookings,\r\n    modifyBooking: (action) => modifyBooking(action, 'booking'),\r\n    booking, setBooking,\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <BookingForm {...bookingFormProps}/>\r\n      <BookingList {...bookingListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction BookingList(props) {\r\n  const classes = useStyles();\r\n  const {bookings, formState, fleets} = props;\r\n  const [openIndex, setOpenIndex] = useState(-1);\r\n  const filterFleet = (idBooking) => fleets.filter(fleet => fleet.BookingId === idBooking);\r\n  console.log(bookings)\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Booking List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {bookings.length <= 0 &&\r\n              <ListItem button className={classes.nested} key={-1}>\r\n                <ListItemText secondary=\"No bookings found\" />\r\n              </ListItem>\r\n            }\r\n            {bookings.map((booking, index) => (\r\n              <Fragment key={index}>\r\n                <ListItem  button\r\n                  onClick={() => \r\n                    openIndex === booking.idBooking ? setOpenIndex(-1) : setOpenIndex(booking.idBooking)\r\n                  }\r\n                >\r\n                  <ListItemText \r\n                    className={classes.listItemText}\r\n                    primary={booking.UserName} \r\n                    secondary={\r\n                      \"Booking ID: \\t\" + booking.idBooking + \"\\n\" +\r\n                      \"Status: \\t\\t\" + booking.BookingStatusDex + \"\\n\" +\r\n                      \"Quote: \\t\\t\" + (booking.BookingQuotation || 'NA') + \"\\n\" +\r\n                      \"Date/Time: \\t\" + booking.BookingDateFrom + \" \" + booking.BookingTimeFrom.substring(0,5) + \"  -  \" +\r\n                      booking.BookingDateTo + \" \" + booking.BookingTimeTo.substring(0,5) + \"\\n\" + \r\n                      \"Comments: \\t\" + (booking.BookingComment || \"NA\")\r\n                    }\r\n                  />\r\n                  {openIndex === booking.idBooking ? <ExpandLess /> : <ExpandMore />}\r\n                </ListItem>\r\n                <Collapse in={openIndex === booking.idBooking} timeout=\"auto\" unmountOnExit>\r\n                  <List component=\"div\" disablePadding>\r\n                    {filterFleet(booking.idBooking).length > 0 ? \r\n                      (filterFleet(booking.idBooking).map((fleet, index) => (\r\n                        <ListItem button className={classes.nested} key={index}>\r\n                          <ListItemText \r\n                            primary={\"Fleet ID: \" + fleet.idBookingFleet}\r\n                            secondary={\r\n                              \"Fleet Type: \\t\" + fleet.FleetTypeDex + \"\\n\" +\r\n                              \"Qty: \\t\\t\" + fleet.BookingFleetQty + \"\\n\" +\r\n                              \"Memo: \\t\\t\" + (fleet.BookingFleetMemo || 'NA')\r\n                            }\r\n                          />\r\n                        </ListItem>\r\n                      ))) :\r\n                      <ListItem button className={classes.nested} key={-1}>\r\n                        <ListItemText secondary=\"No fleet found for this booking\" />\r\n                      </ListItem>\r\n                    }\r\n                  </List>\r\n                  <Divider/>\r\n                </Collapse>\r\n              </Fragment>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction BookingForm(props) {\r\n  const classes = useStyles();\r\n  const {formState, bookings} = props;\r\n  const {booking, setBooking, modifyBooking} = props;\r\n\r\n  const varNames = [\r\n    [\"idBooking\",\"Booking ID\", true],\r\n    [\"UserName\",\"Booking User\", true],\r\n    [\"BookingStatusDex\",\"Booking Status\", true],\r\n    [\"BookingDateFrom\", \"Booking Date From\", true],\r\n    [\"BookingTimeFrom\", \"Booking Time From\", true],\r\n    [\"BookingDateTo\", \"Booking Date To\", true],\r\n    [\"BookingTimeTo\", \"Booking Time To\", true],\r\n    [\"BookingQuotation\", \"Booking Quotation\", false, 'number'],\r\n    [\"BookingComment\", \"Booking Comment\", false],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Quote\", isD:booking.BookingStatus !== 'Q', type:\"submit\"},\r\n    {label:\"Accept\", isD:booking.BookingStatus !== 'A'},\r\n    {label:\"Decline\", isD:!(['Q','A'].includes(booking.BookingStatus))},\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n      >\r\n        <InputLabel>Select Booking</InputLabel>\r\n        <Select\r\n          autoFocus\r\n          value={booking.idBooking || ''}\r\n          onChange={event => setBooking(bookings.find(booking => booking.idBooking === event.target.value) || {})}\r\n        >\r\n          {bookings.map(booking => (\r\n            <MenuItem key={booking.idBooking} value={booking.idBooking}>\r\n              {\"Booking ID: \" + booking.idBooking}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            type={varName[3]}\r\n            margin='normal'\r\n            fullWidth\r\n            label={varName[1]}\r\n            value={booking[varName[0]] || (varName[2] ? 'NA' : '')}\r\n            onChange={event => setBooking({\r\n              ...booking,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: varName[2] ? '#EBEBE4' : ''},\r\n              readOnly: varName[2],\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyBooking(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyBooking(\"Quote\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Modify Booking'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerDelete() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [formState, setFormState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n\r\n  const attemptDelete = () => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    partnerApi.deleteSelf(ApiKey).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert('Delete successful!');\r\n        sessionStorage.setItem(\"loginDetails\", null);\r\n        history.push(\"/\");\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const deleteFormProps = {\r\n    attemptDelete, formState\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserDeleteForm {...deleteFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserDeleteForm(props) {\r\n  const classes = useStyles();\r\n  const {attemptDelete, formState} = props;\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptDelete();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Confirm Delete'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          <Typography align='center'>\r\n            Are you sure you want to delete your account?\r\n          </Typography>\r\n          {formState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              Confirm\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {formState.state === ERROR ?\r\n              formState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/partnerDestination';\r\n\r\nconst get = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst add = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/add';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst update = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst deletePartnerDestination = async (apiKey, idPartnerDestination) => {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idPartnerDestination}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  get, add, update,\r\n  delete: deletePartnerDestination\r\n}","import React, { useState, useEffect } from 'react';\r\nimport destinationApi from '../APIs/destinationApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText, FormControl, InputLabel, Select, MenuItem, Tooltip, InputAdornment } from '@material-ui/core';\r\nimport partnerDestinationApi from '../APIs/partnerDestinationApi';\r\n\r\nimport HelpIcon from '@material-ui/icons/Help';\r\n\r\nconst selectLocationHelpText = \"Seleziona dalla lista litinerario per cui vuoi offrire un servizio, e descrivilo nella casella Destination Service\";\r\nconst destLongitudeHelpText = \"Inserisci in questa sezione tutti i servizi che intendi associare allItinerario selezionato\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  tooltipText: {\r\n    '& .MuiTooltip-tooltip': { font:'16px arial' },\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerDestination() {\r\n  const classes = useStyles();\r\n  const [destinations, setDestinations] = useState([]);\r\n  const [partnerDests, setPartnerDests] = useState([]);\r\n  const [selectedPartnerDest, setSelectedPartnerDest] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setSelectedPartnerDest({});\r\n    setPartnerDests([]);\r\n    setDestinations([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => partnerDestinationApi.get(ApiKey), setPartnerDests);\r\n    apiCall(() => destinationApi.destinationGet(), setDestinations);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Add\":() => partnerDestinationApi.add(ApiKey, selectedPartnerDest),\r\n    \"Update\":() => partnerDestinationApi.update(ApiKey, selectedPartnerDest),\r\n    \"Delete\":() => partnerDestinationApi.delete(ApiKey, selectedPartnerDest.idPartnerDestination),\r\n  }\r\n\r\n  const modifyDestination = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner destination successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const destinationListProps = {\r\n    formState, partnerDests\r\n  }\r\n  const destinationFormProps = {\r\n    formState, destinations,\r\n    modifyDestination,\r\n    partnerDests,\r\n    partnerDest:selectedPartnerDest, \r\n    setPartnerDest:setSelectedPartnerDest\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <DestinationForm {...destinationFormProps}/>\r\n      <DestinationList {...destinationListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction DestinationList(props) {\r\n  const classes = useStyles();\r\n  const {partnerDests, formState} = props;\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Destination List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {partnerDests.length <= 0 &&\r\n               <ListItem>\r\n                <ListItemText secondary=\"No partner destinations found\" />\r\n              </ListItem>\r\n            }\r\n            {partnerDests.map((destination) => (\r\n              <ListItem key={destination.idPartnerDestination}>\r\n                <ListItemText \r\n                  className={classes.listItemText}\r\n                  primary={destination.DestinationName} \r\n                  secondary={\r\n                    \"ID: \" + destination.idPartnerDestination + \"\\n\" +\r\n                    \"Service: \" + destination.PartnerDestinationService\r\n                  }\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction DestinationForm(props) {\r\n  const classes = useStyles();\r\n  const {formState, destinations} = props;\r\n  const {partnerDests, modifyDestination} = props;\r\n  const {partnerDest, setPartnerDest} = props;\r\n\r\n  const varNames = [\r\n    [\"DestinationName\",\"Destination Name\", true],\r\n    [\"DestinationUrl\",\"Destination Url\", true],\r\n    [\"DestinationSpatialX\",\"Destination Latitude\", true],\r\n    [\"DestinationSpatialY\",\"Destination Longitude\", true],\r\n    [\"PartnerDestinationService\",\"Destination Service\"],\r\n  ]\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:partnerDest.idPartnerDestination > -1},\r\n    {label:\"Update\", isD:!(partnerDest.idPartnerDestination > -1)},\r\n    {label:\"Delete\", isD:!(partnerDest.idPartnerDestination > -1)}\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n      >\r\n        <InputLabel>Select Destination</InputLabel>\r\n        <Select\r\n          value={partnerDest.idPartnerDestination || -1}\r\n          onChange={event => setPartnerDest(partnerDests.find(destination => destination.idPartnerDestination === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Destination</em>\r\n          </MenuItem>\r\n          {partnerDests.map(destination => (\r\n            <MenuItem key={destination.idPartnerDestination} value={destination.idPartnerDestination}>\r\n              {\"ID: \" + destination.idPartnerDestination + \", \" + destination.DestinationName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n        disabled={partnerDest.idPartnerDestination > -1}\r\n      >\r\n        <InputLabel>Select Location</InputLabel>\r\n        <Tooltip\r\n          title={selectLocationHelpText}\r\n          PopperProps={{className:classes.tooltipText}}\r\n        >\r\n          <Select\r\n            value={partnerDest.idDestination || ''}\r\n            onChange={event => setPartnerDest({\r\n              ...partnerDest,\r\n              ...destinations.find(destination => destination.idDestination === event.target.value)\r\n            })}\r\n          >\r\n            {destinations.map(destination => (\r\n              <MenuItem key={destination.idDestination} value={destination.idDestination}\r\n                disabled={partnerDests.findIndex(partnerDest => partnerDest.idDestination === destination.idDestination) > -1}\r\n              >\r\n                {destination.DestinationName}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </Tooltip>\r\n      </FormControl><br/>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            label={varName[1]}\r\n            value={\r\n              partnerDest[varName[0]] || \r\n              (varName[2] ? 'NA' : '')\r\n            }\r\n            onChange={event => setPartnerDest({\r\n              ...partnerDest,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: varName[2] ? '#EBEBE4' : ''},\r\n              readOnly: varName[2],\r\n              endAdornment: varName[0] === \"PartnerDestinationService\" &&\r\n                <InputAdornment position=\"end\">\r\n                  <Tooltip\r\n                    title={destLongitudeHelpText}\r\n                    PopperProps={{className:classes.tooltipText}}\r\n                  >\r\n                    <HelpIcon/>\r\n                  </Tooltip>\r\n                </InputAdornment>\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type=\"submit\"\r\n          disabled={buttonProp.isD}\r\n          onClick={() => modifyDestination(buttonProp.label)}\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Modify Destination'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerEmail() {\r\n  const classes = useStyles();\r\n  const [partner, setPartner] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setPartner({});\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    partnerApi.getSelf(ApiKey).then(response => {\r\n      if(response.error_code === 0) {\r\n        setPartner(response.result);\r\n        setFormState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setFormState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Update\":() => partnerApi.updateSelf(ApiKey, partner)\r\n  }\r\n  const modifyPartner = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const partnerFormProps = {\r\n    formState, modifyPartner,\r\n    partner, setPartner\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerForm {...partnerFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {partner, setPartner, modifyPartner} = props;\r\n\r\n  const varNames = [\r\n    [\"PartnerUserEmail\",\"Partner Email\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Update\", isD:!(partner.idPartner > -1), type:\"submit\"}\r\n  ];\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={partner[varName[0]] ||''}\r\n            onChange={event => setPartner({\r\n              ...partner,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            required={varName[2]}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyPartner(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyPartner(\"Update\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Change Email'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/partnerFleet';\r\n\r\nconst get = async (requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst add = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/add';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst update = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst deleteFleet = async (apiKey, idFleet) => {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idFleet}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  get, add, update,\r\n  delete: deleteFleet\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerFleetApi from '../APIs/partnerFleetApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText, FormControl, InputLabel, Select, MenuItem, ListItemAvatar, Avatar } from '@material-ui/core';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport ImageTwoToneIcon from '@material-ui/icons/ImageTwoTone';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  imageDiv: {\r\n    textAlign:'center'\r\n  },\r\n  image: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    width:250,\r\n    height:250\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerFleet() {\r\n  const classes = useStyles();\r\n  const [fleets, setFleets] = useState([]);\r\n  const [fleet, setFleet] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setFleet({});\r\n    setFleets([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => partnerFleetApi.get({FleetPartner: loginDetails.idPartner}), setFleets);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Add\":() => partnerFleetApi.add(ApiKey, fleet),\r\n    \"Update\":() => partnerFleetApi.update(ApiKey, fleet),\r\n    \"Delete\":() => partnerFleetApi.delete(ApiKey, fleet.idFleet),\r\n  }\r\n\r\n  const modifyFleet = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner fleet successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const fleetListProps = {\r\n    formState, fleets\r\n  }\r\n  const fleetFormProps = {\r\n    formState, modifyDestination: modifyFleet,\r\n    fleets, fleet, setFleet\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FleetForm {...fleetFormProps}/>\r\n      <FleetList {...fleetListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FleetList(props) {\r\n  const classes = useStyles();\r\n  const {fleets, formState} = props;\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Fleet List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {fleets.length <= 0 &&\r\n               <ListItem>\r\n                <ListItemText secondary=\"No partner fleets found\" />\r\n              </ListItem>\r\n            }\r\n            {fleets.map((fleet) => (\r\n              <ListItem key={fleet.idFleet}>\r\n                <ListItemAvatar>\r\n                  <Avatar\r\n                    src={'data:image/jpeg;base64,' + fleet.FleetPictureBase64}\r\n                  >\r\n                    {!fleet.FleetPictureBase64 &&\r\n                      <ImageIcon />\r\n                    }\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText \r\n                  className={classes.listItemText}\r\n                  primary={\"Fleet ID: \" + fleet.idFleet} \r\n                  secondary={fleet.FleetDex}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction FleetForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {fleets, modifyDestination} = props;\r\n  const {fleet, setFleet} = props;\r\n\r\n  const varNames = [\r\n    [\"idFleet\",\"Fleet ID\", true],\r\n    [\"FleetDex\",\"Fleet Description\"],\r\n  ]\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:fleet.idFleet > -1},\r\n    {label:\"Update\", isD:!(fleet.idFleet > -1)},\r\n    {label:\"Delete\", isD:!(fleet.idFleet > -1)}\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n      >\r\n        <InputLabel>Select Fleet</InputLabel>\r\n        <Select\r\n          value={fleet.idFleet || -1}\r\n          onChange={event => setFleet(fleets.find(fleet => fleet.idFleet === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Fleet</em>\r\n          </MenuItem>\r\n          {fleets.map(fleet => (\r\n            <MenuItem key={fleet.idFleet} value={fleet.idFleet}>\r\n              {\"ID: \" + fleet.idFleet}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            label={varName[1]}\r\n            value={\r\n              fleet[varName[0]] || \r\n              (varName[2] ? 'NA' : '')\r\n            }\r\n            onChange={event => setFleet({\r\n              ...fleet,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: varName[2] ? '#EBEBE4' : ''},\r\n              readOnly: varName[2],\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div className={classes.imageDiv}>\r\n        {fleet.FleetPictureBase64 ? \r\n          <img\r\n            style={{marginBottom:32, maxWidth:250, maxHeight:250}}\r\n            className={classes.image}\r\n            alt='fleet'\r\n            src={fleet.FleetPictureBase64 && \"data:image/png;base64,\" + fleet.FleetPictureBase64}\r\n          /> :\r\n          <ImageTwoToneIcon\r\n            className={classes.image}\r\n          />\r\n        }\r\n        <br/>\r\n        <input\r\n          accept=\"image/*\"\r\n          className={classes.input}\r\n          id=\"contained-button-file-update\"\r\n          type=\"file\"\r\n          style={{display:'none'}}\r\n          onChange={event => {\r\n            if(event.target.files.length > 0) {\r\n              const fileReader = new FileReader();\r\n              fileReader.onloadend = () => (\r\n                setFleet({\r\n                  ...fleet,\r\n                  FleetPictureBase64:fileReader.result.substring(\r\n                    fileReader.result.indexOf(\"base64,\") + 7\r\n                  )\r\n                })\r\n              );\r\n              fileReader.readAsDataURL(event.target.files[0])\r\n            }\r\n          }}\r\n        />\r\n        <label htmlFor=\"contained-button-file-update\">\r\n          <Button \r\n            className={classes.halfWidthButton}\r\n            variant=\"outlined\" \r\n            component=\"span\"\r\n          >\r\n            Select Image\r\n          </Button>\r\n        </label>\r\n      </div>\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type=\"submit\"\r\n          disabled={buttonProp.isD}\r\n          onClick={() => modifyDestination(buttonProp.label)}\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Update Fleet'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerPassword() {\r\n  const classes = useStyles();\r\n  const [partner, setPartner] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setPartner({});\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    partnerApi.getSelf(ApiKey).then(response => {\r\n      if(response.error_code === 0) {\r\n        setPartner(response.result);\r\n        setFormState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setFormState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Update\":() => partnerApi.updateSelf(ApiKey, partner)\r\n  }\r\n  const modifyPartner = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const partnerFormProps = {\r\n    formState, modifyPartner,\r\n    partner, setPartner\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerForm {...partnerFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {partner, setPartner, modifyPartner} = props;\r\n\r\n  const varNames = [\r\n    [\"PartnerUserPassword\",\"Password\", true],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Update\", isD:!(partner.idPartner > -1), type:\"submit\"}\r\n  ];\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={partner[varName[0]] ||''}\r\n            type='password'\r\n            placeholder='Enter new password'\r\n            onChange={event => setPartner({\r\n              ...partner,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            required={varName[2]}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyPartner(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyPartner(\"Update\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Change Password'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, FormControl, InputLabel, Select, MenuItem, InputAdornment, Tooltip } from '@material-ui/core';\r\nimport utilApi from '../APIs/utilApi';\r\n\r\nimport HelpIcon from '@material-ui/icons/Help';\r\n\r\nconst partnerDexHelpText = \"Inserisci qui una breve descrizione del tuo bike-shop e dei tuoi servizi per farti trovare dagli utenti di Baikky\";\r\nconst partnerPhoneNumberHelpText = \"Inserisci qui il contatto telefonico con cui gestisci il tuo business. Sara visibile solo agli utenti registrati interessati alle tue quotazion\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n  tooltipText: {\r\n    '& .MuiTooltip-tooltip': { font:'16px arial' },\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerProfile() {\r\n  const classes = useStyles();\r\n  const [partner, setPartner] = useState({});\r\n  const [countryCodes, setCountryCodes] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setPartner({});\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results || response.result);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => utilApi.getCountryCode(), setCountryCodes);\r\n    apiCall(() => partnerApi.getSelf(ApiKey), setPartner);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Update\":() => partnerApi.updateSelf(ApiKey, partner)\r\n  }\r\n  const modifyPartner = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const partnerFormProps = {\r\n    formState, modifyPartner,\r\n    partner, setPartner,\r\n    countryCodes\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerForm {...partnerFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {countryCodes} = props;\r\n  const {partner, setPartner, modifyPartner} = props;\r\n\r\n  const readOnlyVars = [\r\n    [\"idPartner\",\"ID\"],\r\n    [\"PartnerStatusDex\",\"Status\"],\r\n    [\"PartnerName\",\"Name\"],\r\n    [\"PartnerUserEmail\", \"Email\"],\r\n  ]\r\n\r\n  const varNames = [\r\n    [\"PartnerUserFirstName\", \"First Name\", true],\r\n    [\"PartnerUserLastName\", \"Last Name\", true],\r\n    [\"PartnerUserCountryCode\", \"Country Code\", true],\r\n    [\"PartnerUserMobileNumber\", \"Mobile Number\", true],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Update\", isD:!(partner.idPartner > -1), type:\"submit\"}\r\n  ];\r\n\r\n  const CardContentTextField = ({index, params}) => (\r\n    <TextField\r\n      margin='normal'\r\n      fullWidth\r\n      autoFocus={index === 0}\r\n      label={params[1]}\r\n      value={partner[params[0]] ||''}\r\n      onChange={event => setPartner({\r\n        ...partner,\r\n        [params[0]]: event.target.value\r\n      })}\r\n      required={params[2]}\r\n    />\r\n  )\r\n\r\n  const CountryCodeDropDown = () => (\r\n    <FormControl fullWidth>\r\n      <InputLabel>Select Country Code</InputLabel>\r\n      <Select\r\n        value={partner.PartnerUserCountryCode || \"127\"}\r\n        onChange={event => setPartner({...partner, PartnerUserCountryCode: event.target.value})}\r\n      >\r\n        {countryCodes.map(countryCode => (\r\n          <MenuItem key={countryCode.idCountryCode} value={countryCode.idCountryCode}>\r\n            {countryCode.CountryCodeDex + \" (+\" + countryCode.CountryCodeVal + \")\"}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      {readOnlyVars.map((varName, index) => (\r\n        <TextField\r\n          key={index}\r\n          margin='normal'\r\n          fullWidth\r\n          label={varName[1]}\r\n          value={partner[varName[0]] ||'NA'}\r\n          InputProps={{\r\n            style:{background:'#EBEBE4'},\r\n            readOnly: true,\r\n          }}\r\n        />\r\n      ))}\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n        {varName[0] === \"PartnerUserCountryCode\" ?\r\n          <CountryCodeDropDown/> :\r\n          <CardContentTextField \r\n            index={index}\r\n            params={varName}\r\n          />\r\n        }\r\n        </div>\r\n      ))}\r\n      <TextField\r\n        margin='normal'\r\n        fullWidth\r\n        label=\"Phone Number\"\r\n        value={partner[\"PartnerUserPhoneNumber\"]}\r\n        InputProps={{\r\n          style:{background:'#EBEBE4'},\r\n          readOnly: true,\r\n        }}\r\n        InputProps={{\r\n          endAdornment:\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip \r\n                title={partnerPhoneNumberHelpText}\r\n                PopperProps={{className:classes.tooltipText}}\r\n              >\r\n                <HelpIcon/>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n        }}\r\n      />\r\n      <TextField\r\n        margin='normal'\r\n        fullWidth\r\n        multiline\r\n        label='Description'\r\n        value={partner[\"PartnerDex\"] ||''}\r\n        onChange={event => setPartner({\r\n          ...partner,\r\n          'PartnerDex': event.target.value\r\n        })}\r\n        InputProps={{\r\n          endAdornment:\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip \r\n                title={partnerDexHelpText}\r\n                PopperProps={{className:classes.tooltipText}}\r\n              >\r\n                <HelpIcon/>\r\n              </Tooltip>\r\n            </InputAdornment>,\r\n        }}\r\n      />\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyPartner(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyPartner(\"Update\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Partner Profile'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport partnerApi from '../APIs/partnerApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerUserName() {\r\n  const classes = useStyles();\r\n  const [partner, setPartner] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setPartner({});\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    partnerApi.getSelf(ApiKey).then(response => {\r\n      if(response.error_code === 0) {\r\n        setPartner(response.result);\r\n        setFormState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setFormState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyActions = {\r\n    \"Update\":() => partnerApi.updateSelf(ApiKey, partner)\r\n  }\r\n  const modifyPartner = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = modifyActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' partner successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const partnerFormProps = {\r\n    formState, modifyPartner,\r\n    partner, setPartner\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <PartnerForm {...partnerFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction PartnerForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {partner, setPartner, modifyPartner} = props;\r\n\r\n  const varNames = [\r\n    [\"PartnerName\",\"Partner Name\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Update\", isD:!(partner.idPartner > -1), type:\"submit\"}\r\n  ];\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={partner[varName[0]] ||''}\r\n            onChange={event => setPartner({\r\n              ...partner,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            required={varName[2]}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyPartner(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyPartner(\"Update\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Change User Name'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport addressApi from '../APIs/addressApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserAddress() {\r\n  const classes = useStyles();\r\n  const [address, setAddress] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setAddress([])\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => addressApi.getSelf(ApiKey), setAddress);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const formSubmitActions = {\r\n    \"Update\":() => addressApi.updateSelf(ApiKey, address[0])\r\n  };\r\n\r\n  const submitForm = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const formSubmitAction = formSubmitActions[action];\r\n    formSubmitAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' address successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const formProps = {\r\n    address, formState,\r\n    setAddress, submitForm\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserAddressForm {...formProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserAddressForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {submitForm} = props;\r\n  const address = props.address[0] || {};\r\n  const setAddress = (address) => props.setAddress([address])\r\n  \r\n  const varNames = [\r\n    [\"AddressDex\", \"Address Dex\"],\r\n    [\"AddressStreet1\", \"Address Street 1\"],\r\n    [\"AddressStreet2\", \"Address Street 2\"],\r\n    [\"AddressNumber\", \"Address Number\"],\r\n    [\"AddressCity\", \"Address City\"],\r\n    [\"AddressProvince\", \"Address Province\"],\r\n    [\"AddressZIP\", \"Address ZIP\"],\r\n    [\"AddressCountry\", \"Address Country\"],\r\n    [\"AddressNotel\", \"Address Notel\"],\r\n    [\"AddressSpatialX\", \"Address Lat\", false, \"number\"],\r\n    [\"AddressSpatialY\", \"Address Lon\", false, \"number\"],\r\n    [\"AddressVAT\", \"Address VAT\"],\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            type={varName[3]}\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={address[varName[0]] ||''}\r\n            onChange={event => setAddress({\r\n              ...address,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: varName[2] ? '#EBEBE4' : ''},\r\n              readOnly: varName[2],\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      {formState.state !== LOADING ?\r\n        <Button\r\n          fullWidth\r\n          variant=\"outlined\" \r\n          className={classes.button}\r\n          type=\"submit\"\r\n        >\r\n          update\r\n        </Button> :\r\n        <div className={classes.circleProgress}>\r\n          <CircularProgress />\r\n        </div>\r\n      }\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        submitForm(\"Update\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='User Address'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/userBooking';\r\n\r\nexport default {\r\n  userBookingGet: (apiKey, requestBody) => get(apiKey, requestBody),\r\n  userBookingAdd: (apiKey, requestBody) => add(apiKey, requestBody),\r\n  userBookingUpdate: (apiKey, requestBody) => update(apiKey, requestBody),\r\n  userBookingDelete: (apiKey, idBooking) => userBookingDelete(apiKey, idBooking),\r\n  userBookingConfirm: (apiKey, idBooking) => confirm(apiKey, idBooking),\r\n  userBookingAccept: (apiKey, idBooking, BookingStatus) => accept(apiKey, idBooking, BookingStatus),\r\n}\r\n\r\nasync function get(apiKey, requestBody) {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function add(apiKey, requestBody) {\r\n  const urlExt = baseEndpoint + '/add';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function update(apiKey, requestBody) {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function userBookingDelete(apiKey, idBooking) {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idBooking}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function confirm(apiKey, idBooking) {\r\n  const urlExt = baseEndpoint + '/confirm';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idBooking}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nasync function accept(apiKey, idBooking, BookingStatus) {\r\n  const urlExt = baseEndpoint + '/accept';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idBooking, BookingStatus}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/userBookingFleet';\r\n\r\nconst get = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst add = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/add';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst update = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst deleteUserBookingFleet = async (apiKey, idBookingFleet) => {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idBookingFleet}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  get, add, update, \"delete\":deleteUserBookingFleet\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/search';\r\n\r\nconst getPartner = async (requestBody) => {\r\n  const urlExt = baseEndpoint + '/getPartner';\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  getPartner\r\n}","import React, { useState, useEffect, Fragment } from 'react';\r\nimport userBookingApi from '../APIs/userBookingApi';\r\nimport userBookingFleetApi from '../APIs/userBookingFleetApi';\r\nimport searchApi from '../APIs/searchApi';\r\nimport utilApi from '../APIs/utilApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText, FormControl, InputLabel, Select, MenuItem, Collapse, Divider } from '@material-ui/core';\r\n\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  imageDiv: {\r\n    textAlign:'center'\r\n  },\r\n  image: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n    width:250,\r\n    height:250\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    whiteSpace:'pre'\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserBooking() {\r\n  const classes = useStyles();\r\n  const [bookings, setBookings] = useState([]);\r\n  const [fleets, setFleets] = useState([]);\r\n  const [selectedBooking, setSelectedBooking] = useState({});\r\n  const [selectedFleet, setSelectedFleet] = useState({});\r\n  const [fleetTypes, setFleetTypes] = useState([]);\r\n  const [partners, setPartners] = useState([]);\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setSelectedBooking({});\r\n    setBookings([]);\r\n    setSelectedFleet({});\r\n    setFleets([]);\r\n    setFleetTypes([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => userBookingApi.userBookingGet(ApiKey, {BookingStatus:'A,C,N,Q,P,U,R'}), setBookings);\r\n    apiCall(() => userBookingFleetApi.get(ApiKey), setFleets);\r\n    apiCall(searchApi.getPartner, setPartners);\r\n    apiCall(utilApi.getFleetType, setFleetTypes);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const modifyBookingActions = {\r\n    \"Add\":() => userBookingApi.userBookingAdd(ApiKey, selectedBooking),\r\n    \"Update\":() => userBookingApi.userBookingUpdate(ApiKey, selectedBooking),\r\n    \"Delete\":() => userBookingApi.userBookingDelete(ApiKey, selectedBooking.idBooking),\r\n    \"Confirm\":() => userBookingApi.userBookingConfirm(ApiKey, selectedBooking.idBooking),\r\n    \"Accept\":() => userBookingApi.userBookingAccept(ApiKey, selectedBooking.idBooking, 'A'),\r\n    \"Decline\":() => userBookingApi.userBookingAccept(ApiKey, selectedBooking.idBooking, 'N'),\r\n    \"Start Edit\":() => userBookingApi.userBookingAccept(ApiKey, selectedBooking.idBooking, 'R'),\r\n  };\r\n\r\n  const modifyBookingFleetActions = {\r\n    \"Add\":() => userBookingFleetApi.add(ApiKey, {...selectedFleet, BookingId:selectedBooking.idBooking}),\r\n    \"Update\":() => userBookingFleetApi.update(ApiKey, selectedFleet),\r\n    \"Delete\":() => userBookingFleetApi.delete(ApiKey, selectedFleet.idBookingFleet),\r\n  };\r\n\r\n  const modifyBooking = (action, type) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const modifyAction = type === 'booking' ?\r\n      modifyBookingActions[action] : modifyBookingFleetActions[action];\r\n    modifyAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' ' + type + ' successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const bookingListProps = {\r\n    formState, bookings, fleets\r\n  }\r\n  const bookingFormProps = {\r\n    formState, bookings,\r\n    modifyBooking: (action) => modifyBooking(action, 'booking'),\r\n    booking:selectedBooking, \r\n    setBooking:setSelectedBooking,\r\n    partners\r\n  }\r\n  const bookingFleetFormProps = {\r\n    formState,\r\n    modifyFleet: (action) => modifyBooking(action, 'fleet'),\r\n    fleets:fleets.filter(fleet => fleet.BookingId === selectedBooking.idBooking),\r\n    booking:selectedBooking, \r\n    fleet:selectedFleet,\r\n    setFleet:setSelectedFleet,\r\n    fleetTypes\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserBookingForm {...bookingFormProps}/>\r\n      <UserBookingFleetForm {...bookingFleetFormProps}/>\r\n      <UserBookingList {...bookingListProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserBookingList(props) {\r\n  const classes = useStyles();\r\n  const {bookings, formState, fleets} = props;\r\n  const [openIndex, setOpenIndex] = useState(-1);\r\n  const filterFleet = (idBooking) => fleets.filter(fleet => fleet.BookingId === idBooking);\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Booking List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {bookings.map((booking, index) => (\r\n              <Fragment key={index}>\r\n                <ListItem  button\r\n                  onClick={() => \r\n                    openIndex === booking.idBooking ? setOpenIndex(-1) : setOpenIndex(booking.idBooking)\r\n                  }\r\n                >\r\n                  <ListItemText \r\n                    className={classes.listItemText}\r\n                    primary={booking.PartnerName} \r\n                    secondary={\r\n                      \"Booking ID: \\t\" + booking.idBooking + \"\\n\" +\r\n                      \"Status: \\t\\t\" + booking.BookingStatusDex + \"\\n\" +\r\n                      \"Quote: \\t\\t\" + (booking.BookingQuotation || 'NA') + \"\\n\" +\r\n                      \"Date/Time: \\t\" + booking.BookingDateFrom + \" \" + booking.BookingTimeFrom.substring(0,5) + \"  -  \" +\r\n                      booking.BookingDateTo + \" \" + booking.BookingTimeTo.substring(0,5) + \"\\n\" + \r\n                      \"Comments: \\t\" + (booking.BookingComment || \"NA\")\r\n                    }\r\n                  />\r\n                  {openIndex === booking.idBooking ? <ExpandLess /> : <ExpandMore />}\r\n                </ListItem>\r\n                <Collapse in={openIndex === booking.idBooking} timeout=\"auto\" unmountOnExit>\r\n                  <List component=\"div\" disablePadding>\r\n                    {filterFleet(booking.idBooking).length > 0 ? \r\n                      (filterFleet(booking.idBooking).map((fleet, index) => (\r\n                        <ListItem button className={classes.nested} key={index}>\r\n                          <ListItemText \r\n                            primary={\"Fleet ID: \" + fleet.idBookingFleet}\r\n                            secondary={\r\n                              \"Fleet Type: \\t\" + fleet.FleetTypeDex + \"\\n\" +\r\n                              \"Qty: \\t\\t\" + fleet.BookingFleetQty + \"\\n\" +\r\n                              \"Memo: \\t\\t\" + (fleet.BookingFleetMemo || 'NA')\r\n                            }\r\n                          />\r\n                        </ListItem>\r\n                      ))) :\r\n                      <ListItem button className={classes.nested} key={-1}>\r\n                        <ListItemText secondary=\"No fleet found for this booking\" />\r\n                      </ListItem>\r\n                    }\r\n                  </List>\r\n                  <Divider/>\r\n                </Collapse>\r\n              </Fragment>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction UserBookingForm(props) {\r\n  const classes = useStyles();\r\n  const {formState, bookings} = props;\r\n  const {booking, modifyBooking} = props;\r\n  const {partners} = props;\r\n\r\n  const setBooking = newBooking => (\r\n    props.setBooking({\r\n      ...newBooking,\r\n      BookingDateTimeFrom :\r\n        (newBooking.BookingDateFrom ? (\r\n          newBooking.BookingDateFrom.substring(8,10) +\r\n          newBooking.BookingDateFrom.substring(5,7) +\r\n          newBooking.BookingDateFrom.substring(0,4)) : \"\") +\r\n        (newBooking.BookingTimeFrom ? (\r\n          newBooking.BookingTimeFrom.substring(0,2) +\r\n          newBooking.BookingTimeFrom.substring(3,5)) : \"\"),\r\n      BookingDateTimeTo :\r\n        (newBooking.BookingDateTo ? (\r\n          newBooking.BookingDateTo.substring(8,10) +\r\n          newBooking.BookingDateTo.substring(5,7) +\r\n          newBooking.BookingDateTo.substring(0,4)) : \"\") + \r\n        (newBooking.BookingTimeTo ? (\r\n          newBooking.BookingTimeTo.substring(0,2) +\r\n          newBooking.BookingTimeTo.substring(3,5)) : \"\")\r\n    })\r\n  )\r\n\r\n  const readOnlyVars = [\r\n    [\"idBooking\",\"Booking ID\"],\r\n    [\"PartnerName\",\"Booking Partner\"],\r\n    [\"BookingQuotation\",\"Booking Quotation\"],\r\n    [\"BookingStatusDex\",\"Booking Status\"],\r\n  ]\r\n\r\n  const dateTimeVars = [\r\n    [\"BookingDateFrom\", \"Booking Date From\", \"date\"],\r\n    [\"BookingTimeFrom\", \"Booking Time From\", \"time\"],\r\n    [\"BookingDateTo\", \"Booking Date To\", \"date\"],\r\n    [\"BookingTimeTo\", \"Booking Time To\", \"time\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:booking.idBooking > -1, type:\"submit\"},\r\n    {label:\"Confirm\", isD:booking.BookingStatus !== 'R'},\r\n    {label:\"Update\", isD:booking.BookingStatus !== 'R'},\r\n    {label:\"Delete\", isD:!(['A','C','R'].includes(booking.BookingStatus))},\r\n    {label:\"Accept\", isD:!(['P','U'].includes(booking.BookingStatus))},\r\n    {label:\"Decline\", isD:!(['P','U'].includes(booking.BookingStatus))},\r\n    {label:\"Start Edit\", isD:!(['P','U'].includes(booking.BookingStatus))},\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n      >\r\n        <InputLabel>Select Booking</InputLabel>\r\n        <Select\r\n          value={booking.idBooking || -1}\r\n          onChange={event => setBooking(bookings.find(booking => booking.idBooking === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Booking</em>\r\n          </MenuItem>\r\n          {bookings.map(booking => (\r\n            <MenuItem key={booking.idBooking} value={booking.idBooking}>\r\n              {\"Booking ID: \" + booking.idBooking}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {readOnlyVars.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            type='readonly'\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={booking[varName[0]] ||'NA'}\r\n            onChange={event => setBooking({\r\n              ...booking,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: '#EBEBE4'},\r\n              readOnly: true,\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      {!booking.idBooking &&\r\n        <FormControl\r\n          fullWidth\r\n          required\r\n          margin='normal'\r\n        >\r\n          <InputLabel>Select Partner</InputLabel>\r\n          <Select\r\n            value={booking.BookingPartner || ''}\r\n            onChange={event => {\r\n              const partner = partners.find(partner => partner.idPartner === event.target.value) || {}\r\n              setBooking({\r\n                ...booking,\r\n                BookingPartner:partner.idPartner,\r\n                PartnerName: partner.PartnerName\r\n              })\r\n            }}\r\n          >\r\n            {partners.map(partner => (\r\n              <MenuItem key={partner.idPartner} value={partner.idPartner}>\r\n                {partner.PartnerName}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      }<br/>\r\n      {dateTimeVars.map((dateTimeVar, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            required\r\n            type={dateTimeVar[2]}\r\n            margin='normal'\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={dateTimeVar[1]}\r\n            value={booking[dateTimeVar[0]] || ''}\r\n            onChange={event => setBooking({\r\n              ...booking,\r\n              [dateTimeVar[0]]: event.target.value\r\n            })}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n              style:{background: (booking.BookingStatus && booking.BookingStatus !== 'R') ? '#EBEBE4' : ''},\r\n              readOnly: booking.BookingStatus && booking.BookingStatus !== 'R',\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type={buttonProp.type || \"\"}\r\n          disabled={buttonProp.isD}\r\n          onClick={\r\n            buttonProp.type === \"submit\" ?\r\n              \"\" :\r\n              () => modifyBooking(buttonProp.label)\r\n          }\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        modifyBooking(\"Add\");\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Modify Booking'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}\r\n\r\nfunction UserBookingFleetForm(props) {\r\n  const classes = useStyles();\r\n  const {formState} = props;\r\n  const {fleet, fleets, fleetTypes} = props;\r\n  const {booking, setFleet, modifyFleet} = props;\r\n\r\n  const fleetVars = [\r\n    [\"BookingFleetQty\",\"Booking Fleet Quantity\", \"number\"],\r\n    [\"BookingFleetMemo\",\"Booking Fleet Memo\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:(fleet.idBookingFleet || booking.BookingStatus !== 'R')},\r\n    {label:\"Update\", isD:(!fleet.idBookingFleet || booking.BookingStatus !== 'R')},\r\n    {label:\"Delete\", isD:(!fleet.idBookingFleet || booking.BookingStatus !== 'R')},\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n      >\r\n        <InputLabel>Select Fleet</InputLabel>\r\n        <Select\r\n          value={fleet.idBookingFleet || -1}\r\n          onChange={event => setFleet(fleets.find(fleet => fleet.idBookingFleet === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Fleet</em>\r\n          </MenuItem>\r\n          {fleets.map(fleet => (\r\n            <MenuItem key={fleet.idBookingFleet} value={fleet.idBookingFleet}>\r\n              {\"Fleet ID: \" + fleet.idBookingFleet}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n        required\r\n      >\r\n        <InputLabel>Select Fleet Type</InputLabel>\r\n        <Select\r\n          value={fleet.BookingFleetType || ''}\r\n          onChange={event => setFleet({\r\n            ...fleet,\r\n            BookingFleetType: event.target.value\r\n          })}\r\n        >\r\n          {fleetTypes.map(fleetType => (\r\n            <MenuItem key={fleetType.idFleetType} value={fleetType.idFleetType}>\r\n              {fleetType.FleetTypeDex}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {fleetVars.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            required={varName[0] !== 'BookingFleetMemo'}\r\n            margin='normal'\r\n            type={varName[2] || ''}\r\n            fullWidth\r\n            autoFocus={index === 0}\r\n            label={varName[1]}\r\n            value={fleet[varName[0]] ||''}\r\n            onChange={event => setFleet({\r\n              ...fleet,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n          />\r\n        </div>\r\n      ))}\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type=\"submit\"\r\n          disabled={buttonProp.isD}\r\n          onClick={() => modifyFleet(buttonProp.label)}\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Modify Booking Fleets'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          (booking.BookingStatus === 'R' ?\r\n            cardContent : \r\n            <CardContent className={classes.cardContent}>\r\n              The booking you have selected cannot be edited, select another booking or click \"Start Edit\"\r\n            </CardContent>\r\n          )\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserDelete() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [formState, setFormState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n\r\n  const attemptDelete = () => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    userApi.deleteSelf(ApiKey).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert('Delete successful!');\r\n        sessionStorage.setItem(\"loginDetails\", null);\r\n        history.push(\"/\");\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const deleteFormProps = {\r\n    attemptDelete, formState\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserDeleteForm {...deleteFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserDeleteForm(props) {\r\n  const classes = useStyles();\r\n  const {attemptDelete, formState} = props;\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptDelete();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Confirm Delete'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          <Typography align='center'>\r\n            Are you sure you want to delete your account?\r\n          </Typography>\r\n          {formState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              Confirm\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {formState.state === ERROR ?\r\n              formState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserProfile() {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState({});\r\n  const [userState, setUserState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setUser({});\r\n    setUserState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    userApi.getSelf(ApiKey).then(response => {\r\n      if(response.result) {\r\n        setUser(response.result);\r\n        setUserState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setUser({});\r\n        setUserState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const attemptUpdate = () => {\r\n    setUserState({errorMsg:'', state:LOADING});\r\n    userApi.updateSelf(ApiKey, user).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert('Update successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setUserState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    user, userState,\r\n    setUser, attemptUpdate\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserProfileForm {...registrationFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserProfileForm(props) {\r\n  const classes = useStyles();\r\n  const {user, userState} = props;\r\n  const {setUser, attemptUpdate} = props;\r\n  const varNames = [\r\n    [\"UserName\",\"User Name\",true],\r\n    [\"UserEmail\",\"User Email\",true],\r\n    [\"UserPhoneNumber\",\"User Phone Number\",false],\r\n    [\"UserFirstName\",\"User First Name\",false],\r\n    [\"UserLastName\",\"User Last Name\",false],\r\n    [\"UserPhoneNumberCountryCode\",\"User Phone Country Code\",false],\r\n  ]\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptUpdate();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='User Profile'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          {varNames.map((varName, index) => (\r\n            <div key={index}>\r\n              <TextField\r\n                margin='normal'\r\n                fullWidth\r\n                autoFocus={index === 0}\r\n                label={varName[1]}\r\n                value={user[varName[0]] ||''}\r\n                onChange={event => setUser({\r\n                  ...user,\r\n                  [varName[0]]: event.target.value\r\n                })}\r\n                InputProps={{\r\n                  style:{background: varName[2] ? '#EBEBE4' : ''},\r\n                  readOnly: varName[2],\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n          {userState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              update\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {userState.state === ERROR ?\r\n              userState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserUserName() {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState({});\r\n  const [userState, setUserState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setUser({});\r\n    setUserState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    userApi.getSelf(ApiKey).then(response => {\r\n      if(response.result) {\r\n        setUser(response.result);\r\n        setUserState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setUser({});\r\n        setUserState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const attemptUpdate = () => {\r\n    setUserState({errorMsg:'', state:LOADING});\r\n    userApi.updateSelf(ApiKey, user).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert('Update successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setUserState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    user, userState,\r\n    setUser, attemptUpdate\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserProfileForm {...registrationFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserProfileForm(props) {\r\n  const classes = useStyles();\r\n  const {user, userState} = props;\r\n  const {setUser, attemptUpdate} = props;\r\n  const varNames = [\r\n    [\"UserName\",\"User Name\",false],\r\n  ]\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptUpdate();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Change Username'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          {varNames.map((varName, index) => (\r\n            <div key={index}>\r\n              <TextField\r\n                margin='normal'\r\n                fullWidth\r\n                autoFocus={index === 0}\r\n                label={varName[1]}\r\n                value={user[varName[0]] ||''}\r\n                onChange={event => setUser({\r\n                  ...user,\r\n                  [varName[0]]: event.target.value\r\n                })}\r\n                InputProps={{\r\n                  style:{background: varName[2] ? '#EBEBE4' : ''},\r\n                  readOnly: varName[2],\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n          {userState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              update\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {userState.state === ERROR ?\r\n              userState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserPassword() {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState({});\r\n  const [userState, setUserState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setUser({});\r\n    setUserState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    userApi.getSelf(ApiKey).then(response => {\r\n      if(response.result) {\r\n        setUser(response.result);\r\n        setUserState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setUser({});\r\n        setUserState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const attemptUpdate = () => {\r\n    setUserState({errorMsg:'', state:LOADING});\r\n    userApi.updateSelf(ApiKey, user).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert('Update successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setUserState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    user, userState,\r\n    setUser, attemptUpdate\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserProfileForm {...registrationFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserProfileForm(props) {\r\n  const classes = useStyles();\r\n  const {user, userState} = props;\r\n  const {setUser, attemptUpdate} = props;\r\n  const varNames = [\r\n    [\"UserPassword\",\"Password\",false],\r\n  ]\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptUpdate();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Change Password'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          {varNames.map((varName, index) => (\r\n            <div key={index}>\r\n              <TextField\r\n                type='password'\r\n                margin='normal'\r\n                fullWidth\r\n                autoFocus={index === 0}\r\n                label={varName[1]}\r\n                value={user[varName[0]] ||''}\r\n                placeholder='Enter new password'\r\n                onChange={event => setUser({\r\n                  ...user,\r\n                  [varName[0]]: event.target.value\r\n                })}\r\n                InputProps={{\r\n                  style:{background: varName[2] ? '#EBEBE4' : ''},\r\n                  readOnly: varName[2],\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n          {userState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              update\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {userState.state === ERROR ?\r\n              userState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import baseApi from './_baseApi';\r\nconst baseEndpoint = '/userDestinationRating';\r\n\r\nconst get = async () => {\r\n  const urlExt = baseEndpoint + '/get';\r\n  const jsonPromise = baseApi(urlExt, 'GET');\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst deleteRating = async (apiKey, idUserDestinationRating) => {\r\n  const urlExt = baseEndpoint + '/delete';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', {idUserDestinationRating}, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst getSelf = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/getSelf';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst update = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/update';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nconst add = async (apiKey, requestBody) => {\r\n  const urlExt = baseEndpoint + '/add';\r\n  const headers = {\r\n    Authorization: 'Bearer ' + apiKey\r\n  };\r\n  const jsonPromise = baseApi(urlExt, 'POST', requestBody, null, headers);\r\n  const result = await jsonPromise;\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  delete: deleteRating,\r\n  get, getSelf, update, add\r\n}","import React, { useState, useEffect } from 'react';\r\nimport userDestinationRatingApi from '../APIs/userDestinationRatingApi';\r\nimport destinationApi from '../APIs/destinationApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress, List, ListItem, ListItemText, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  },\r\n  halfWidthButton: {\r\n    marginLeft:theme.spacing(2),\r\n    marginRight:theme.spacing(2),\r\n    marginTop:theme.spacing(2),\r\n  },\r\n  listItemText: {\r\n    whiteSpace:'pre'\r\n  },\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function PartnerDestination() {\r\n  const classes = useStyles();\r\n  const [destinations, setDestinations] = useState([]);\r\n  const [ratings, setRatings] = useState([]);\r\n  const [rating, setRating] = useState({});\r\n  const [formState, setFormState] = useState({\r\n    state:LOADING,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setRating({});\r\n    setRatings([]);\r\n    setDestinations([]);\r\n    setFormState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n\r\n    const apiCall = (api, setCallback) => {\r\n      api().then(response => {\r\n        if(response.error_code === 0) {\r\n          setCallback(response.results);\r\n          setFormState({\r\n            state:NONE, \r\n            errorMsg:''\r\n          });\r\n        }\r\n        else {\r\n          setFormState({\r\n            state:ERROR,\r\n            errorMsg:response.message\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    apiCall(() => userDestinationRatingApi.getSelf(ApiKey), setRatings);\r\n    apiCall(() => destinationApi.destinationGet(), setDestinations);\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const submitActions = {\r\n    \"Add\":() => userDestinationRatingApi.add(ApiKey, rating),\r\n    \"Update\":() => userDestinationRatingApi.update(ApiKey, rating),\r\n    \"Delete\":() => userDestinationRatingApi.delete(ApiKey, rating.idUserDestinationRating),\r\n  }\r\n\r\n  const onSubmit = (action) => {\r\n    setFormState({errorMsg:'', state:LOADING});\r\n    const submitAction = submitActions[action];\r\n    submitAction().then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert(action + ' user rating successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setFormState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  const listCardProps = {\r\n    formState, ratings\r\n  }\r\n  const formProps = {\r\n    formState, destinations,\r\n    modifyDestination: onSubmit,\r\n    ratings, rating, setRating\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormCard {...formProps}/>\r\n      <ListCard {...listCardProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction ListCard(props) {\r\n  const classes = useStyles();\r\n  const {ratings, formState} = props;\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader\r\n        className={classes.header}\r\n        title='Ratings List'\r\n      />\r\n      <CardContent>\r\n        {formState.state === LOADING ? \r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          <List>\r\n            {ratings.length <= 0 &&\r\n               <ListItem>\r\n                <ListItemText secondary=\"No user ratings found\" />\r\n              </ListItem>\r\n            }\r\n            {ratings.map((rating) => (\r\n              <ListItem key={rating.idUserDestinationRating}>\r\n                <ListItemText \r\n                  className={classes.listItemText}\r\n                  primary={\"ID: \" + rating.idUserDestinationRating + \",  \" + rating.DestinationName} \r\n                  secondary={\r\n                    \"Rating: \" + rating.Rating + \"\\n\" +\r\n                    \"Comment: \" + rating.RatingComment\r\n                  }\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        }\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction FormCard(props) {\r\n  const classes = useStyles();\r\n  const {formState, destinations} = props;\r\n  const {ratings, modifyDestination} = props;\r\n  const {rating, setRating} = props;\r\n\r\n  const varNames = [\r\n    [\"DestinationName\",\"Destination Name\", true],\r\n    [\"RatingComment\",\"RatingComment\"],\r\n  ]\r\n\r\n  const buttonProps = [\r\n    {label:\"Add\", isD:rating.idUserDestinationRating > -1},\r\n    {label:\"Update\", isD:!(rating.idUserDestinationRating > -1)},\r\n    {label:\"Delete\", isD:!(rating.idUserDestinationRating > -1)}\r\n  ]\r\n\r\n  const cardContent = (\r\n    <CardContent className={classes.cardContent}>\r\n      <FormControl\r\n        fullWidth\r\n      >\r\n        <InputLabel>Select Rating</InputLabel>\r\n        <Select\r\n          value={rating.idUserDestinationRating || -1}\r\n          onChange={event => setRating(ratings.find(rating => rating.idUserDestinationRating === event.target.value) || {})}\r\n        >\r\n          <MenuItem value={-1}>\r\n            <em>Add New Rating</em>\r\n          </MenuItem>\r\n          {ratings.map(rating => (\r\n            <MenuItem key={rating.idUserDestinationRating} value={rating.idUserDestinationRating}>\r\n              {\"ID: \" + rating.idUserDestinationRating + \", \" + rating.DestinationName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n        disabled={rating.idUserDestinationRating > -1}\r\n      >\r\n        <InputLabel>Select Location</InputLabel>\r\n        <Select\r\n          value={parseInt(rating.RatingDestination) || ''}\r\n          onChange={event => {\r\n            const destination = destinations.find(destination => parseInt(destination.idDestination) === event.target.value);\r\n            setRating({\r\n              ...rating,\r\n              ...destination,\r\n              RatingDestination:destination.idDestination  \r\n            })\r\n          }}\r\n        >\r\n          {destinations.map(destination => (\r\n            <MenuItem key={destination.idDestination} value={parseInt(destination.idDestination)}>\r\n              {destination.DestinationName}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl><br/>\r\n      {varNames.map((varName, index) => (\r\n        <div key={index}>\r\n          <TextField\r\n            margin='normal'\r\n            fullWidth\r\n            label={varName[1]}\r\n            value={\r\n              rating[varName[0]] || \r\n              (varName[2] ? 'NA' : '')\r\n            }\r\n            onChange={event => setRating({\r\n              ...rating,\r\n              [varName[0]]: event.target.value\r\n            })}\r\n            InputProps={{\r\n              style:{background: varName[2] ? '#EBEBE4' : ''},\r\n              readOnly: varName[2],\r\n            }}\r\n          />\r\n        </div>\r\n      ))}\r\n      <FormControl\r\n        fullWidth\r\n        margin='normal'\r\n      >\r\n        <InputLabel>Rating</InputLabel>\r\n        <Select\r\n          value={rating.Rating || ''}\r\n          onChange={event => setRating({\r\n            ...rating,\r\n            'Rating':event.target.value\r\n          })}\r\n        >\r\n          <MenuItem value={1}>1 Stars</MenuItem>\r\n          <MenuItem value={2}>2 Stars</MenuItem>\r\n          <MenuItem value={3}>3 Stars</MenuItem>\r\n          <MenuItem value={4}>4 Stars</MenuItem>\r\n          <MenuItem value={5}>5 Stars</MenuItem>\r\n        </Select>\r\n      </FormControl><br/>\r\n      <div style={{textAlign:'center'}}>\r\n      {buttonProps.map(buttonProp => (\r\n        <Button\r\n          key={buttonProp.label}\r\n          variant=\"outlined\" \r\n          className={classes.halfWidthButton}\r\n          type=\"submit\"\r\n          disabled={buttonProp.isD}\r\n          onClick={() => modifyDestination(buttonProp.label)}\r\n        >\r\n          {buttonProp.label}\r\n        </Button>\r\n      ))}\r\n      </div>\r\n      <Typography \r\n        className={classes.errorMessage}\r\n        align='center'\r\n      >\r\n        {formState.state === ERROR ?\r\n          formState.errorMsg : ''\r\n        }\r\n      </Typography>\r\n    </CardContent>\r\n  )\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Rate Destination'\r\n        />\r\n        {formState.state === LOADING ?\r\n          <div className={classes.circleProgress}>\r\n            <CircularProgress />\r\n          </div> :\r\n          cardContent\r\n        }\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport userApi from '../APIs/userApi';\r\nimport { makeStyles, Typography, TextField, Button, Card, CardContent, CardHeader, CircularProgress } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing(3),\r\n    marginRight: theme.spacing(3),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n        width: 600,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n    },\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(8),\r\n    marginBottom: theme.spacing(6),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    width:'100%',\r\n    textAlign:'center',\r\n    font:'bold 24px arial'\r\n  },\r\n  cardContent: {\r\n    width:'100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  circleProgress: {\r\n    textAlign:'center',\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  errorMessage: {\r\n    marginTop: theme.spacing(1),\r\n    color:'red'\r\n  },\r\n  link: {\r\n    marginTop: theme.spacing(3),\r\n    textAlign:'center'\r\n  }\r\n}))\r\n\r\nconst NONE = 0;\r\nconst LOADING = 2;\r\nconst ERROR = -1;\r\n\r\nexport default function UserEmail() {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState({});\r\n  const [userState, setUserState] = useState({\r\n    state:NONE,\r\n    errorMsg:''\r\n  });\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const {ApiKey} = loginDetails;\r\n  const reload = (ApiKey) => {\r\n    setUser({});\r\n    setUserState({\r\n      state:LOADING, \r\n      errorMsg:''\r\n    });\r\n    userApi.getSelf(ApiKey).then(response => {\r\n      if(response.result) {\r\n        setUser(response.result);\r\n        setUserState({\r\n          state:NONE, \r\n          errorMsg:''\r\n        });\r\n      }\r\n      else {\r\n        setUser({});\r\n        setUserState({\r\n          state:ERROR,\r\n          errorMsg:response.message\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    reload(ApiKey);\r\n  }, [ApiKey])\r\n\r\n  const attemptUpdate = () => {\r\n    setUserState({errorMsg:'', state:LOADING});\r\n    userApi.updateSelf(ApiKey, user).then(response => {\r\n      if(response.error_code === '0') {\r\n        window.alert('Update successful!');\r\n        reload(ApiKey);\r\n      }\r\n      else {\r\n        setUserState({\r\n          errorMsg:response.message,\r\n          state:ERROR\r\n        });\r\n      }\r\n    });\r\n  }\r\n  const registrationFormProps = {\r\n    user, userState,\r\n    setUser, attemptUpdate\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <UserProfileForm {...registrationFormProps}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction UserProfileForm(props) {\r\n  const classes = useStyles();\r\n  const {user, userState} = props;\r\n  const {setUser, attemptUpdate} = props;\r\n  const varNames = [\r\n    [\"UserEmail\",\"User Email\",false],\r\n  ]\r\n\r\n  return (\r\n    <form\r\n      onSubmit={event => {\r\n        event.preventDefault();\r\n        attemptUpdate();\r\n      }}\r\n    >\r\n      <Card className={classes.card}>\r\n        <CardHeader\r\n          className={classes.header}\r\n          title='Change Email'\r\n        />\r\n        <CardContent className={classes.cardContent}>\r\n          {varNames.map((varName, index) => (\r\n            <div key={index}>\r\n              <TextField\r\n                margin='normal'\r\n                fullWidth\r\n                autoFocus={index === 0}\r\n                label={varName[1]}\r\n                value={user[varName[0]] ||''}\r\n                onChange={event => setUser({\r\n                  ...user,\r\n                  [varName[0]]: event.target.value\r\n                })}\r\n                InputProps={{\r\n                  style:{background: varName[2] ? '#EBEBE4' : ''},\r\n                  readOnly: varName[2],\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n          {userState.state !== LOADING ?\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\" \r\n              className={classes.button}\r\n              type=\"submit\"\r\n            >\r\n              update\r\n            </Button> :\r\n            <div className={classes.circleProgress}>\r\n              <CircularProgress />\r\n            </div>\r\n          }\r\n          <Typography \r\n            className={classes.errorMessage}\r\n            align='center'\r\n          >\r\n            {userState.state === ERROR ?\r\n              userState.errorMsg : ''\r\n            }\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </form>\r\n  )\r\n}","import React, { useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { makeStyles, CssBaseline } from '@material-ui/core';\r\nimport DrawerButtons from'../Components/DrawerButtons';\r\n\r\nimport {drawerWidth, appBarHeight} from '../Components/appbar-drawer-component/_globals';\r\nimport AppBarDrawerComp from '../Components/appbar-drawer-component/AppBarDrawerComp';\r\nimport AdminDestination from '../Pages/AdminDestination';\r\nimport AdminManagePartner from '../Pages/AdminManagePartner';\r\nimport AdminPartnerConfirm from '../Pages/AdminPartnerConfirm';\r\nimport AdminPartnerList from '../Pages/AdminPartnerList';\r\nimport AdminPartnerType from '../Pages/AdminPartnerType';\r\nimport AdminUserList from '../Pages/AdminUserList';\r\nimport PartnerAddress from '../Pages/PartnerAddress';\r\nimport PartnerBooking from '../Pages/PartnerBooking';\r\nimport PartnerDelete from '../Pages/PartnerDelete';\r\nimport PartnerDestination from '../Pages/PartnerDestination';\r\nimport PartnerEmail from '../Pages/PartnerEmail';\r\nimport PartnerFleet from '../Pages/PartnerFleet';\r\nimport PartnerPassword from '../Pages/PartnerPassword';\r\nimport PartnerProfile from '../Pages/PartnerProfile';\r\nimport PartnerUserName from '../Pages/PartnerUserName';\r\nimport UserAddress from '../Pages/UserAddress';\r\nimport UserBooking from '../Pages/UserBooking';\r\nimport UserDelete from '../Pages/UserDelete';\r\nimport UserProfile from '../Pages/UserProfile';\r\nimport UserUserName from '../Pages/UserUserName';\r\nimport UserPassword from '../Pages/UserPassword';\r\nimport UserDestination from '../Pages/UserDestination';\r\nimport UserEmail from '../Pages/UserEmail';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    \r\n  },\r\n  drawerTopComp: {\r\n    margin:theme.spacing(1),\r\n    marginTop:theme.spacing(2),\r\n    font:'bold 16px Arial',\r\n    cursor:\"pointer\"\r\n  },\r\n  siteBodyMain: {\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft:drawerWidth\r\n    },\r\n    paddingTop:appBarHeight,\r\n  }\r\n}))\r\n\r\nfunction SiteBody() {\r\n  const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n  const userType = loginDetails.Type;\r\n  const { idPartner }= loginDetails;\r\n  const history = useHistory();\r\n  const page = useParams().page;\r\n\r\n  const logout = () => {\r\n    sessionStorage.setItem(\"loginDetails\", null);\r\n    history.push(\"/\");\r\n  }\r\n\r\n  const goToPage = page => (\r\n    history.push(\"/main/\" + page)\r\n  );\r\n\r\n  const pages = [\r\n    {p:'0', pageComp:() => <UserProfile/>},\r\n    {p:'1', pageComp:() => <UserUserName/>},\r\n    {p:'2', pageComp:() => <UserEmail/>},\r\n    {p:'3', pageComp:() => <UserPassword/>},\r\n    {p:'4', pageComp:() => <UserAddress/>},\r\n    {p:'6', pageComp:() => <UserBooking/>},\r\n    {p:'7', pageComp:() => <UserDestination/>},\r\n    {p:'8', pageComp:() => <UserDelete/>},\r\n    {p:'9', pageComp:() => <AdminManagePartner/>},\r\n    {p:'10', pageComp:() => <AdminPartnerList/>},\r\n    {p:'11', pageComp:() => <AdminUserList/>},\r\n    {p:'12', pageComp:() => <AdminPartnerConfirm/>},\r\n    {p:'13', pageComp:() => <AdminPartnerType/>},\r\n    {p:'14', pageComp:() => <AdminDestination/>},\r\n    {p:'16', pageComp:() => <PartnerProfile/>},\r\n    {p:'17', pageComp:() => <PartnerUserName/>},\r\n    {p:'18', pageComp:() => <PartnerEmail/>},\r\n    {p:'19', pageComp:() => <PartnerPassword/>},\r\n    {p:'20', pageComp:() => <PartnerAddress/>},\r\n    {p:'21', pageComp:() => <PartnerFleet/>},\r\n    {p:'22', pageComp:() => <PartnerBooking/>},\r\n    {p:'23', pageComp:() => <PartnerDestination/>},\r\n    {p:'24', pageComp:() => <PartnerDelete/>},\r\n  ]\r\n\r\n  const userButtons = [\r\n    {p:'0',label:'Change Profile'},\r\n    {p:'1',label:'Change User Name'},\r\n    {p:'2',label:'Change Email'},\r\n    {p:'3',label:'Change Password'},\r\n    {p:'4',label:'Change Address'},\r\n    {isDivider:true},\r\n    {p:'6',label:'Manage Quotations'},\r\n    {isDivider:true},\r\n    {p:'7',label:'Rate Destinations'},\r\n    {isDivider:true},\r\n    {p:'8',label:'Delete Account'},\r\n    {isDivider:true},\r\n  ]\r\n\r\n  const adminPartnerButtons = [\r\n    {p:'9',label:'Manage Partners', rights:['10','11']},\r\n    {p:'10',label:'List Partners', rights:['10','11']},\r\n    {p:'11',label:'List Users', rights:['10','11']},\r\n    {p:'12',label:'Confirm a Partner', rights:['11']},\r\n    {p:'13',label:'Change Partner Type', rights:['10','11']},\r\n    {isDivider:true, rights:['10','11']},\r\n    {p:'14',label:'Destinations', rights:['10','11']},\r\n    {isDivider:true, rights:['10','11']},\r\n    {p:'20',label:'Change Address', rights:['11']},\r\n    {isDivider:true, rights:['11']},\r\n  ]\r\n\r\n  const partnerButtons = [\r\n    {p:'16',label:'Change Profile', rights:['11','60','91']},\r\n    {p:'17',label:'Change User Name', rights:['11','60','91']},\r\n    {p:'18',label:'Change Email', rights:['11','60','91']},\r\n    {p:'19',label:'Change Password', rights:['60','91']},\r\n    {p:'20',label:'Change Address', rights:['11','60']},\r\n    {isDivider:true, rights:['11','60','91']},\r\n    {p:'21',label:'Update Fleet', rights:['60']},\r\n    {p:'22',label:'Manage Quotations', rights:['60']},\r\n    {p:'23',label:'Manage Destinations', rights:['11','60']},\r\n    {isDivider:true, rights:['11','60']},\r\n    {p:'24',label:'Delete Account', rights:['60','91']},\r\n    {isDivider:true, rights:['60','91']},\r\n  ]\r\n\r\n  // select the list of buttons depending on the user type and access rights\r\n  let buttons = [];\r\n  if(userType === 'user') buttons = userButtons;\r\n  else if(userType === 'partner' && idPartner === '1') {\r\n    buttons = adminPartnerButtons.filter(button => \r\n      button.rights.includes(loginDetails.PartnerUserRight)\r\n    );\r\n  }\r\n  else if(userType === 'partner') {\r\n    buttons = partnerButtons.filter(button => \r\n      button.rights.includes(loginDetails.PartnerUserRight)\r\n    );\r\n  }\r\n\r\n  // choose which button was selected\r\n  // and set the onclick function for each button\r\n  buttons.forEach(button => {\r\n    button.onClick = () => goToPage(button.p)\r\n    if(button.p === page) button.isSelected = true;\r\n  })\r\n\r\n  // add a logout button to the list\r\n  buttons.push(\r\n    {p:'9',label:'Logout', onClick:logout},\r\n    {isDivider:true},\r\n  )\r\n\r\n  useEffect(() => {\r\n    if(!page) buttons[0].onClick();\r\n  }, [page, buttons])\r\n\r\n  return (\r\n    <div>\r\n      <CssBaseline />\r\n      <SiteBodyFrame\r\n        buttons={buttons}\r\n        returnToHome={() => history.push(\"/\")}\r\n      />\r\n      <SiteBodyMain\r\n        currentPage={pages.find(_page => _page.p === page)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SiteBodyFrame(props) {\r\n  const classes = useStyles();\r\n  const {buttons, returnToHome} = props;\r\n  return (\r\n    <div>\r\n      <AppBarDrawerComp\r\n        appBarProps={{\r\n          backgroundColor:'rgba(232, 232, 232, 0.4)'\r\n        }}\r\n        drawerChildren={\r\n          <DrawerButtons buttons={buttons}/>\r\n        }\r\n        drawerProps={{\r\n          drawerTopComponents:[\r\n            <div \r\n              key={0} \r\n              className={classes.drawerTopComp}\r\n              onClick={() => returnToHome()}\r\n            >\r\n              BaikUp\r\n            </div>\r\n          ]\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SiteBodyMain(props) {\r\n  const classes = useStyles();\r\n  const {currentPage} = props;\r\n  return (\r\n    <main className={classes.siteBodyMain}>\r\n      {currentPage ? \r\n        currentPage.pageComp() : 'Page Not Found'\r\n      }\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default SiteBody;\r\n","import React from 'react';\r\n\r\nexport default function PrivacyPolicy() {\r\n  return (\r\n    <div\r\n      style={{\r\n        margin:16\r\n      }}\r\n    >\r\n      <p>&nbsp;</p>\r\n      <p>Social Green Mobility Srl &ldquo;SGM&rdquo;</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Condizioni Generali Contratto Utenti Finali</strong></p>\r\n      <p>&nbsp;</p>\r\n      <p>Le presenti Condizioni Generali (CG) avranno effetto per tutti gli utenti registrati tramite il sito web http://www.baikky.com.</p>\r\n      <p>BaikUp e&rsquo; un servizio di match making gratuito che permette all&rsquo;Utente di identificare noleggiatori di biciclette eHoverboards, monocicli elettrici, monopattini elettrici, segway, e-bike e pit bike tramite la piattaforma disponibile all'indirizzo http://www.baikky.com (il \"Sito\") e/o eventualmente attraverso l'applicazione mobile denominata \"BaikUp\" (&ldquo;App&rdquo;). Insieme il Sito e l&rsquo;App costituiscono in &ldquo;Servizio&rdquo;</p>\r\n      <p>Le seguenti Condizioni Generali d'uso (di seguito &ldquo;Termini d'uso&rdquo;), nella Sezione I, faranno parte dell'accordo concluso tra l&rsquo;Utente e SGM per quanto riguarda il servizio di registrazione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>SEZIONE I</p>\r\n      <p>TERMINI D&rsquo;USO</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO - 1 AMBITO DI APPLICAZIONE</p>\r\n      <p>&nbsp;</p>\r\n      <p>1.1.- Le presenti condizioni d'uso si applicano a tutti gli accordi conclusi tra SGM e l&rsquo;Utente in relazione ai servizi prestati tramite la piattaforma.</p>\r\n      <p>1.2.- Gli accordi presi tra SGM e l&rsquo;Utente si basano esclusivamente sulle presenti Condizioni d'uso e sulla conferma del consenso dell&rsquo;Utente prestato ai sensi del punto 3.2.</p>\r\n      <p>1.3.- Le disposizioni delle Condizioni d'uso si applicano all&rsquo;Utente anche in qualit&agrave; di consumatore ai sensi dell&rsquo;articolo 3 del Codice del Consumo (d.lgs. 206\\2005). Un consumatore &egrave; un Utente che utilizza il Servizioper uno scopo estraneo all&rsquo;attivit&agrave; professionale.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 2 - FUNZIONE DELLA PIATTAFORMA</p>\r\n      <p>&nbsp;</p>\r\n      <p>2.1.- Tramite la Piattaforma, gli utenti possono trovare servizi di noleggio e ad effettuare richieste di preventivo. Il Servizio termina mettendo in contatto l&rsquo;Utente Finale con i Noleggiatori senza che all&rsquo;interno della Piattaforma si concluda alcun contratto e ci sia alcuna transazione economica.</p>\r\n      <p>2.2.- SGM non fornisce l'accesso a Internet o altri servizi tecnici necessari per l'uso della piattaforma.</p>\r\n      <p>2.3.- SGM lavora costantemente per ottimizzare ed espandere il Servizio. Ci&ograve; pu&ograve; comportare modifiche, in particolare: requisiti tecnici per la fornitura dei servizi, la trasmissione di annunci pubblicitari e le richieste di prenotazione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 3 - REGISTRAZIONE DELL&rsquo;UTENTE</p>\r\n      <p>&nbsp;</p>\r\n      <p>3.1.- Per utilizzare il Servizio, l&rsquo;Utente dovr&agrave; registrarsi fornendo informazioni obbligatorie, ovvero \"Dati anagrafici\" (nome e cognome) e il proprio indirizzo e-mail.</p>\r\n      <p>L&rsquo;Utente pu&ograve; registrarsi inserendo i dati anagrafici nella piattaforma anche trasferendoli da servizi di social media selezionati (per esempio Facebook)</p>\r\n      <p>3.2.- L&rsquo;Utente indica che i dati anagrafici inseriti sono corretti, aggiornati e completi.</p>\r\n      <p>3.3.- &Egrave; sempre consentito all&rsquo;Utente correggere e modificare i dati inseriti sulla piattaforma ad eccezione dell&rsquo;indirizzo e-mail utilizzato per la registrazione.</p>\r\n      <p>3.4.- Con la registrazione, l&rsquo;Utente conferma le presenti CG. Una volta completata la registrazione, SGM invia all&rsquo;Utente un'e-mail di conferma e crea un account personale per l&rsquo;Utente (di seguito \"BaikUp Account\") e lo attiva.</p>\r\n      <p>3.5.- I dati anagrafici sono memorizzati nel BaikUp Account. Gli altri utenti possono visualizzarli solo quando e nella misura necessaria per prendere contatto. SGM utilizzer&agrave; i dati anagrafici esclusivamente allo scopo di consentire all&rsquo;Utente di beneficiare del Servizio offerto dalla piattaforma.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 4 - ACCESSO AI DATI</p>\r\n      <p>&nbsp;</p>\r\n      <p>4.1.- L&rsquo;Utente deve essere in possesso dei dati di accesso personali per l'accesso al proprio BaikUp Account che pu&ograve; essere usato esclusivamente dall&rsquo;Utente. L&rsquo;Utente non deve trasmettere i dati di accesso a terzi; deve selezionare password difficili da decifrare; mantenere segreti i dati di accesso e le password; e cambiare immediatamente tali dati di accesso qualora fosse a conoscenza di qualsiasi uso/abuso improprio dei dati di accesso. Ci&ograve; si applica anche dove sospetti un tale abuso.</p>\r\n      <p>4.2.- L&rsquo;Utente &egrave; tenuto a proteggere i computer e gli altri supporti dati da cui accede ed &egrave; tenuto a proteggere i dispositivi in cui vengono archiviate o utilizzate le password.</p>\r\n      <p>4.3.- L&rsquo;Utente &egrave; responsabile per tutti i danni causati da qualsiasi uso di terzi per il quale essi sono responsabili.</p>\r\n      <p>4.4.- Se l&rsquo;Utente viola i doveri di cura specificati in 4.1 e 4.2 in misura significativa, SGM &egrave; autorizzato a bloccare il BaikUp Account dell&rsquo;Utente (temporaneamente). L&rsquo;Utente ne sar&agrave; informato via e-mail.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 5 - DURATA DEL CONTRATTO, RECESSO E RISOLUZIONE</p>\r\n      <p>&nbsp;</p>\r\n      <p>5.1.- Il Contratto con l&rsquo;Utente &egrave; concluso per un periodo indeterminato.</p>\r\n      <p>5.2.- Salvo diverso accordo, l&rsquo;Utente pu&ograve; recedere dall'Accordo con SGM in qualsiasi momento senza l'obbligo di rispettare un periodo di preavviso utilizzando l'opzione &ldquo;Disattiva account&rdquo;. Gli accordi di noleggio che sono gi&agrave; stati conclusi non influenzano la risoluzione, ma non danno diritto al rimborso.</p>\r\n      <p>5.3.- Il contratto si risolver&agrave; di diritto al verificarsi delle seguenti condizioni: a) l&rsquo;Utente viola i propri doveri ai sensi delle presenti Condizioni d'uso; c) qualora SGM non potesse pi&ugrave; offrire la piattaforma per decisione dell&rsquo;Autorit&agrave; Giudiziaria o in caso di apertura di procedure d insolvenza.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 6 - USO DELLA PIATTAFORMA</p>\r\n      <p>&nbsp;</p>\r\n      <p>6.1.- L&rsquo;Utente si impegna a non utilizzare la piattaforma in modo improprio. In particolare non &egrave; autorizzato a: impersonare un'altra persona; utilizzare l'account di appartenenza per pubblicare informazioni non correlate al Servizio; inviare materiale pubblicitario non richiesto o materiale di promozione delle vendite (come e-mail promozionali indesiderate o \"spam\") tramite la piattaforma; bloccare, sovrascrivere o modificare il contenuto della Piattaforma; o utilizzare la piattaforma utilizzando un sistema o un programma che ne compromette la sicurezza, integrit&agrave; e / o disponibilit&agrave; dei sistemi impiegati da SGM, ovvero che influenzino la piattaforma al fine di interromperne il corretto e regolare funzionamento o accesso alla piattaforma senza autorizzazione.</p>\r\n      <p>6.2.- L&rsquo;Utente dovr&agrave; manlevareSGM da tutte le pretese, di qualsivoglia natura, rivendicate nei confronti di SGM dai Noleggiatori e da terze parti a causa di un uso improprio della piattaforma ai sensi del &sect; 6.1. L&rsquo;Utente dovr&agrave; rimborsare SGM per eventuali perdite subite a seguito di tale uso improprio, incluso qualsiasi costo legale. Ci&ograve; non si applica nel caso in cui l&rsquo;Utente non sia responsabile per tale uso improprio. In qualsiasi caso l&rsquo;Utente dovr&agrave; supportareSGMnella sua difesa legale.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 7 - CONTATTI E NEWSLETTER</p>\r\n      <p>&nbsp;</p>\r\n      <p>7.1.- SGM invia all&rsquo;Utente le informazioni necessarie per l&rsquo;utilizzo della piattaforma all'indirizzo e-mail fornito durante la registrazione, ovvero tramite App. In particolare, verranno comunicate informazioni di aggiornamento sicurezza, avvisi di modifiche ai termini e alle condizioni commerciali, e informazioni su funzionalit&agrave; nuove e/o modificate.</p>\r\n      <p>7.2.- L&rsquo;Utente riceve solo notifiche relative alle attivit&agrave; di marketing di SGM e dei suoi partner (di seguito \"Newsletter\") se hanno accettato di ricevere la Newsletter. L&rsquo;Utente pu&ograve; terminare la propria iscrizione alla Newsletter in qualsiasi momento facendo clic su \"Annulla iscrizione&rdquo; nel campo Newsletter. In tal caso, l'indirizzo e-mail dell&rsquo;Utente sar&agrave; cancellato dalla lista di distribuzione della newsletter e l'assenza di consenso deve essere annotata nell'area clienti.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 8 - DICHIARAZIONI E GARANZIE</p>\r\n      <p>&nbsp;</p>\r\n      <p>8.1.-SGM non si assume alcuna responsabilit&agrave; per la correttezza dei Dati anagrafici forniti dall&rsquo;Utente durante la registrazione. L&rsquo;Utente deve verificare in modo indipendente l'identit&agrave; dei noleggiatori.</p>\r\n      <p>8.2.-SGM non garantisce che un accordo verr&agrave; concluso tra gli Utenti e i Noleggiatori, come risultato dell'utilizzo della Piattaforma e del Servizio.</p>\r\n      <p>8.3.- L&rsquo;Utente &egrave; responsabile della salvaguardia dei dati anagrafici, del contenuto e di altri dati memorizzati nell'account di appartenenza o altrove sulla piattaforma su un supporto di archiviazione che non &egrave; accessibile a SGM.</p>\r\n      <p>8.4.-SGM non si assume alcuna responsabilit&agrave; per la funzionalit&agrave; di Internet dell&rsquo;Utente.</p>\r\n      <p>8.5.-SGM sottolinea chiaramente che l'utilizzo dei servizi Web pu&ograve; comportare rischi. Questo si riferisce, in particolare, ai rischi causati dall'invio di malware, spamming, furto di password, intrusioni e manipolazioni elettroniche, hacking e altre forme di divulgazione non autorizzata di dati. SGM compie sforzi ragionevoli per ridurre al minimo tali rischi. Questo non stabilisce un obbligo di assumersi la responsabilit&agrave;. L'uso della piattaforma sar&agrave; quindi a carico dell&rsquo;Utente.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 9 - RECENSIONI E VALUTAZIONI</p>\r\n      <p>&nbsp;</p>\r\n      <p>9.1.- Gli utenti possono lasciare una recensione pubblica (\"Revisione\") entro 30 giorni dal completamento di una prenotazione al termine del periodo di utilizzo e valutarsi a vicenda mediante una valutazione a stelle (\"Classificazione\"). L&rsquo;Utente fornir&agrave; informazioni veritiere nelle recensioni e nelle valutazioni e lo far&agrave; solo includendo tali circostanze connesse all'esecuzione del noleggio. &Egrave; vietato all&rsquo;Utente fornire recensioni e valutazioni su s&eacute; stesso o organizzare revisioni o valutazioni su terzi.</p>\r\n      <p>9.2.-SGM non &egrave; responsabile per le recensioni e le valutazioni lasciate dagli Utenti. SGM non esamina le recensioni e le valutazioni prima che vengano pubblicate. SGM &egrave; comunque autorizzata ad aggiungere commenti ai voti a fini di chiarimento e per rimuoverli ed eliminarli dal profilo delle valutazioni, in tutto o in parte, qualora tali valutazioni violino le specifiche contenute nel precedente &sect; 9.1, ledano i diritti di terzi; causino offesa o molestie o siano immorali o sessualmente esplicite, contengano informazioni personali riguardanti l'altro Utente, come il loro nome, l&rsquo;indirizzo, il numero di telefono o indirizzo e-mail; contengano link o script vietati; se tali commenti sono stati inavvertitamente attribuiti all&rsquo;Utente sbagliato; o devono essere rimossi a causa di una decisione giudiziaria esecutiva contro la parte che ha dato la valutazione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 10 &ndash; RICHIESTA DI PREVENTIVO</p>\r\n      <p>&nbsp;</p>\r\n      <p>10.1.- L&rsquo;Utente potr&agrave; richiedere un preventivo ai Noleggiatori registrati sulla piattaforma.&nbsp;</p>\r\n      <p>10.2.- Le fotografie e le illustrazioni mostrate all&rsquo;Utente sulla piattaforma sono direttamnte fornite dai Noleggiatori. Lo scopo di queste fotografie e illustrazioni consiste nel mostrare all&rsquo;Utente i veicoli per il noleggio e le medesime non dovranno essere considerate come garanzia che eccede questo scopo.</p>\r\n      <p>10.3.- L&rsquo;Utente potr&agrave; richiedere un preventivo selezionando il tipo di veicolo da noleggiare e il periodo di utilizzo e inviare la richiesta al Noleggiatore.</p>\r\n      <p>10.4.- Il Noleggiatore avr&agrave; tre giorni di tempo per formulare la sua proposta. Con l&rsquo;accettazione della proposta, il Servizio si riterr&agrave; concluso e l&rsquo;Utente ed il Noleggiatore tratterranno separatamente la conclusione di un eventuale contratto di noleggio.</p>\r\n      <p>10.5.- Il contratto di noleggio tra l&rsquo;Utente e il Noleggiatore sar&agrave; regolato al di fuori del Servizio offerto dalla Piattaforma.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 11 - COMMISSIONE DI SERVIZIO, COSTI, GESTIONE DEI PAGAMENTI</p>\r\n      <p>&nbsp;</p>\r\n      <p>11.1.- Se viene stipulato un contratto tra Utente e Noleggiatore a seguito dell'uso della piattaforma, SGM non ricevera&rsquo; &nbsp;alcuna commissione ne dall&rsquo;Utente, ne dal Noleggiatore.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 12 - LIMITAZIONE DI RESPONSABILITA&rsquo;</p>\r\n      <p>&nbsp;</p>\r\n      <p>14.1.- In relazione all'acquisto dei Servizi di Noleggio ,SGM opera quale puro fornitore di informazioni non svolgendo alcun ruolo di intermediario nell&rsquo;esecuzione del contratto e quindi non sar&agrave; responsabile dell'inadempimento da parte dei Noleggiatori e degli Utenti delle obbligazioni relative ai contratti tra loro stipulati.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 13 - FORZA MAGGIORE</p>\r\n      <p>&nbsp;</p>\r\n      <p>13.1.-SGM &egrave; comunque esonerata dalle ogni obbligazione in caso di eventi o circostanze che rendono impossibile il funzionamento della piattaforma.</p>\r\n      <p>13.2.- I casi di forza maggiore devono comprendere, in particolare, l'interruzione o il fallimento di Internet o altre reti, connessioni di telecomunicazione, alimentazione elettrica, infrastrutture, fornitori o fornitori.</p>\r\n      <p>13.3.- Si considera, altres&igrave;, forza maggiore &ndash; ai sensi delle vigenti normative &ndash; un evento irresistibile e imprevedibile, straordinario ed indipendente dalla volont&agrave; delle parti e che impedisce alle parti stesse l&rsquo;adempimento delle proprie obbligazioni quali ad esempio: scioperi, modifiche normative, maltempo, ritardi nella consegna del veicolo da noleggi precedenti.</p>\r\n      <p><br /> </p>\r\n      <p>ARTICOLO 16 - ASSISTENZA CLIENTI</p>\r\n      <p>&nbsp;</p>\r\n      <p>16.1.- Il servizio clienti &egrave; importante per SGM. SGM assister&agrave; l&rsquo;Utente se l&rsquo;Utente ha qualche domanda o problema. L&rsquo;Utente pu&ograve; contattare SGM scrivendo nell&rsquo;apposito form nella pagina &ldquo;CONTATTACI&rdquo; indicato nel Servizio.</p>\r\n      <p>16.2.- Il Contratto di noleggio sar&agrave; concluso esclusivamente tra l&rsquo;Utente e il Noleggiatore. SGM non &egrave; quindi responsabile per l'affidabilit&agrave; del partner contrattuale, n&eacute; per la corretta esecuzione del Contratto di noleggio.SGM si &egrave; comunque impegnata a garantire che le richieste di noleggio ricevano una risposta tempestiva.</p>\r\n      <p>ARTICOLO - 17 PRIVACY</p>\r\n      <p>&nbsp;</p>\r\n      <p>17.1.-SGM raccoglie e archivia i dati necessari per scopi commerciali. L&rsquo;attivit&agrave; e la piattaforma di SGM sono conformi con le disposizioni di legge in materia di trattamento dei dati personali. La nostra politica sulla privacy, disponibile all'indirizzo https://www...........</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 18 - LEGGE APPLICABILE E FORO COMPETENTE</p>\r\n      <p>&nbsp;</p>\r\n      <p>18.1.- Il presente contratto &egrave; disciplinato dalla legge italiana. Le parti sottoporranno tutte le controversie derivanti dal presente Contratto o collegate ad esso - ivi comprese quelle relative alla sua interpretazione, validit&agrave;, efficacia, esecuzione e risoluzione - al tentativo di mediazione ex D.Lgs. n. 28/2010 secondo le disposizioni del Regolamento di Mediazione Civile e Commerciale della Camera Arbitrale di Milano che le parti espressamente dichiarano di conoscere e di accettare integralmente. Le parti si impegnano a ricorrere alla mediazione prima di iniziare qualsiasi procedimento arbitrale o giudiziale. La richiesta di mediazione dovr&agrave; essere depositata avanti alla Camera di Commercio della sede diSGMentro trenta giorni dalla controversia. La nomina del mediatore verr&agrave; disposta in base all'elenco dei mediatori iscritti con competenza nell'area commerciale e dei trasporti. Per l'eventuale successivo procedimento giudiziale la competenza sar&agrave; del Foro della sede di SGM, ad eccezione delle ipotesi contemplate dall&rsquo;art 1469 bis c.c. e fermo e impregiudicato quanto previsto all&rsquo;ARTICOLO 33, comma 2, lettera U, del Codice del Consumo (D.Lgs. 206/2005) e cio&egrave; il Foro ove risiede o &egrave; elettivamente domiciliato il Consumatore. Qualora una parte qualsiasi del presente Contratto sia ritenuta inapplicabile ai sensi di legge, tale parte sar&agrave; considerata annullata, tuttavia ci&ograve; non comporter&agrave; l&rsquo;invalidit&agrave; o l&rsquo;inefficacia delle altre disposizioni.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 19 &ndash; MISCELLANEOUS</p>\r\n      <p>&nbsp;</p>\r\n      <p>19.1.- Qualora singole disposizioni delle Condizioni d'uso non siano valide, ci&ograve; non pregiudica la validit&agrave; delle altre disposizioni delle Condizioni d'uso, che resteranno valide ed efficaci.</p>\r\n      <p>19.2.-SGM ha il diritto di trasferire e/o cedere i diritti e gli obblighi previsti dall'accordo con gli Utenti a terzi in tutto o in parte. In caso di trasferimento di questo tipo, gli utenti devono ricevere apposita ed espressa notifica che preveda un determinato periodo di tempo per l'eliminazione del loro profilo degli utenti, qualora non accettino il trasferimento.</p>\r\n      <p>&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Condizioni Generali di Utilizzo della Piattaforma Per i Partner Noleggiatori </strong></p>\r\n      <p>&nbsp;</p>\r\n      <p>Le presenti Condizioni Generali (CG) avranno effetto per tutti gli partner registrati tramite il sito web http://www.baikky.com.</p>\r\n      <p>BaikUp e&rsquo; un servizio di match making gratuito che permette di mettere in contatto partner registrati (&ldquo;Partner&rdquo; ossia noleggiatori di biciclette eHoverboards, monocicli elettrici, monopattini elettrici, segway, e-bike e pit bike) con utenti desiderosi di effettuare un noleggio, tramite la piattaforma disponibile all'indirizzo http://www.baikky.com (il \"Sito\") e/o eventualmente attraverso l'applicazione mobile denominata \"BaikUp\" (&ldquo;App&rdquo;). Insieme il Sito e l&rsquo;App costituiscono in &ldquo;Servizio&rdquo;</p>\r\n      <p>Le seguenti Condizioni Generali d'uso (di seguito &ldquo;Termini d'uso&rdquo;), nella Sezione I, faranno parte dell'accordo concluso tra il Partner e SGM per quanto riguarda il servizio di registrazione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>SEZIONE I</p>\r\n      <p>TERMINI D&rsquo;USO</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO - 1 AMBITO DI APPLICAZIONE</p>\r\n      <p>&nbsp;</p>\r\n      <p>1.1.- Le presenti condizioni d'uso si applicano a tutti gli accordi conclusi tra SGM e il Partner in relazione ai servizi prestati tramite la piattaforma.</p>\r\n      <p>1.2.- Gli accordi presi tra SGM e l&rsquo;Paertner si basano esclusivamente sulle presenti Condizioni d'uso e sulla conferma del consenso dell&rsquo;Utente prestato ai sensi del punto 3.2.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 2 - FUNZIONE DELLA PIATTAFORMA</p>\r\n      <p>&nbsp;</p>\r\n      <p>2.1.- Tramite la Piattaforma, i Partner possono descrivire i propri servizi agganciandoli a chiavi di ricerca fornite dalla Piattaforma stessa. Usando queste chiavi gli utenti finali (ossia i consumatori) possono identificare i servizi di noleggio, Partner, ed effettuare richieste di preventivo. Il Servizio termina mettendo in contatto il Partner con l&rsquo;Utente Finale che ha formulato la richiesta di noleggio senza che all&rsquo;interno della Piattaforma si concluda alcun contratto e ci sia alcuna transazione economica.</p>\r\n      <p>2.2.- SGM non fornisce l'accesso a Internet o altri servizi tecnici necessari per l'uso della piattaforma.</p>\r\n      <p>2.3.- SGM lavora costantemente per ottimizzare ed espandere il Servizio. Ci&ograve; pu&ograve; comportare modifiche, in particolare: requisiti tecnici per la fornitura dei servizi, la trasmissione di annunci pubblicitari e le richieste di prenotazione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 3 - REGISTRAZIONE DEL PARTNER</p>\r\n      <p>3.1.- Per utilizzare il Servizio, il Partner dovr&agrave; registrarsi fornendo informazioni obbligatorie, ovvero \"Dati anagrafici\" (nome e cognome), il proprio indirizzo e-mail e gli indirizzi dove e&rsquo; localizzato.</p>\r\n      <p>Il Partner &nbsp;pu&ograve; registrarsi inserendo i dati anagrafici nella piattaforma anche trasferendoli da servizi di social media selezionati (per esempio Facebook)</p>\r\n      <p>3.2.- L&rsquo; Partner indica che i dati inseriti sono corretti, aggiornati e completi.</p>\r\n      <p>3.3.- &Egrave; sempre consentito al Partner correggere e modificare i dati inseriti sulla piattaforma ad eccezione dell&rsquo;indirizzo e-mail utilizzato per la registrazione.</p>\r\n      <p>3.4.- Con la registrazione, il Partner conferma le presenti CG. Una volta completata la registrazione, SGM invia al Partner un'e-mail di conferma e crea un account personale per il Partner (di seguito \"BaikUp Account\") e lo attiva.</p>\r\n      <p>3.5.- I dati anagrafici sono memorizzati nel BaikUp Account. Gli altri utenti possono visualizzarli solo quando e nella misura necessaria per prendere contatto. SGM utilizzer&agrave; i dati esclusivamente allo scopo di consentire al Partner di beneficiare del Servizio offerto dalla piattaforma.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 4 - ACCESSO AI DATI</p>\r\n      <p>&nbsp;</p>\r\n      <p>4.1.- Il Partner deve essere in possesso dei dati di accesso personali per l'accesso al proprio BaikUp Account che pu&ograve; essere usato esclusivamente dal Partner. Il Partner non deve trasmettere i dati di accesso a terzi; deve selezionare password difficili da decifrare; mantenere segreti i dati di accesso e le password; e cambiare immediatamente tali dati di accesso qualora fosse a conoscenza di qualsiasi uso/abuso improprio dei dati di accesso. Ci&ograve; si applica anche dove sospetti un tale abuso.</p>\r\n      <p>4.2.- Il Partner &egrave; tenuto a proteggere i computer e gli altri supporti dati da cui accede ed &egrave; tenuto a proteggere i dispositivi in cui vengono archiviate o utilizzate le password.</p>\r\n      <p>4.3.- Il Partner &egrave; responsabile per tutti i danni causati da qualsiasi uso di terzi per il quale essi sono responsabili.</p>\r\n      <p>4.4.- Se il Partner viola i doveri di cura specificati in 4.1 e 4.2 in misura significativa, SGM &egrave; autorizzato a bloccare il BaikUp Account dell&rsquo;Utente (temporaneamente). Il Partner ne sar&agrave; informato via e-mail.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 5 - DURATA DEL CONTRATTO, RECESSO E RISOLUZIONE</p>\r\n      <p>&nbsp;</p>\r\n      <p>5.1.- Il Contratto con il Partner &egrave; concluso per un periodo indeterminato.</p>\r\n      <p>5.2.- Salvo diverso accordo, il Partner pu&ograve; recedere dall'Accordo con SGM in qualsiasi momento senza l'obbligo di rispettare un periodo di preavviso utilizzando l'opzione &ldquo;Disattiva account&rdquo;. Gli accordi di noleggio che sono gi&agrave; stati conclusi non influenzano la risoluzione, ma non danno diritto al rimborso.</p>\r\n      <p>5.3.- Il contratto si risolver&agrave; di diritto al verificarsi delle seguenti condizioni: a) il Partner viola i propri doveri ai sensi delle presenti Condizioni d'uso; c) qualora SGM non potesse pi&ugrave; offrire la piattaforma per decisione dell&rsquo;Autorit&agrave; Giudiziaria o in caso di apertura di procedure d insolvenza.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 6 - USO DELLA PIATTAFORMA</p>\r\n      <p>&nbsp;</p>\r\n      <p>6.1.- Il Partner si impegna a non utilizzare la piattaforma in modo improprio. In particolare non &egrave; autorizzato a: impersonare un'altra persona; utilizzare l'account di appartenenza per pubblicare informazioni non correlate al Servizio; inviare materiale pubblicitario non richiesto o materiale di promozione delle vendite (come e-mail promozionali indesiderate o \"spam\") tramite la piattaforma; bloccare, sovrascrivere o modificare il contenuto della Piattaforma; o utilizzare la piattaforma utilizzando un sistema o un programma che ne compromette la sicurezza, integrit&agrave; e / o disponibilit&agrave; dei sistemi impiegati da SGM, ovvero che influenzino la piattaforma al fine di interromperne il corretto e regolare funzionamento o accesso alla piattaforma senza autorizzazione.</p>\r\n      <p>6.2.- Il Partner dovr&agrave; manlevare SGM da tutte le pretese, di qualsivoglia natura, rivendicate nei confronti di SGM dagli utenti finali e da terze parti a causa di un uso improprio della piattaforma ai sensi del &sect; 6.1. Il Partner dovr&agrave; rimborsare SGM per eventuali perdite subite a seguito di tale uso improprio, incluso qualsiasi costo legale. Ci&ograve; non si applica nel caso in cui Il Partner non sia responsabile per tale uso improprio. In qualsiasi caso il Partner dovr&agrave; supportare SGM nella sua difesa legale.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 7 - CONTATTI E NEWSLETTER</p>\r\n      <p>&nbsp;</p>\r\n      <p>7.1.- SGM invia al Partner le informazioni necessarie per l&rsquo;utilizzo della piattaforma all'indirizzo e-mail fornito durante la registrazione, ovvero tramite App. In particolare, verranno comunicate informazioni di aggiornamento sicurezza, avvisi di modifiche ai termini e alle condizioni commerciali, e informazioni su funzionalit&agrave; nuove e/o modificate.</p>\r\n      <p>7.2.- Il Partner riceve solo notifiche relative alle attivit&agrave; di marketing di SGM. Il Partner pu&ograve; terminare la propria iscrizione alla Newsletter in qualsiasi momento facendo clic su \"Annulla iscrizione&rdquo; nel campo Newsletter. In tal caso, l'indirizzo e-mail dell&rsquo;Utente sar&agrave; cancellato dalla lista di distribuzione della newsletter e l'assenza di consenso deve essere annotata nell'area clienti.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 8 - DICHIARAZIONI E GARANZIE</p>\r\n      <p>&nbsp;</p>\r\n      <p>8.1.-SGM non si assume alcuna responsabilit&agrave; per la correttezza dei Dati anagrafici forniti dagli utenti finali durante la registrazione. Il Partner deve verificare in modo indipendente l'identit&agrave; degli utenti finali.</p>\r\n      <p>8.2.-SGM non garantisce che un accordo verr&agrave; concluso tra utenti finali e Partner, come risultato dell'utilizzo della Piattaforma e del Servizio.</p>\r\n      <p>8.3.- Il Partner &egrave; responsabile della salvaguardia dei dati anagrafici, del contenuto e di altri dati memorizzati nell'account di appartenenza o altrove sulla piattaforma su un supporto di archiviazione che non &egrave; accessibile a SGM.</p>\r\n      <p>8.4.-SGM non si assume alcuna responsabilit&agrave; per la funzionalit&agrave; di Internet dell&rsquo;Utente.</p>\r\n      <p>8.5.-SGM sottolinea chiaramente che l'utilizzo dei servizi Web pu&ograve; comportare rischi. Questo si riferisce, in particolare, ai rischi causati dall'invio di malware, spamming, furto di password, intrusioni e manipolazioni elettroniche, hacking e altre forme di divulgazione non autorizzata di dati. SGM compie sforzi ragionevoli per ridurre al minimo tali rischi. Questo non stabilisce un obbligo di assumersi la responsabilit&agrave;. L'uso della piattaforma sar&agrave; quindi a carico del Partner.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 9 - RECENSIONI E VALUTAZIONI</p>\r\n      <p>&nbsp;</p>\r\n      <p>9.1.- Gli utenti finali possono lasciare una recensione pubblica (\"Revisione\") entro 30 giorni dal completamento di una prenotazione al termine del periodo di utilizzo e valutarsi a vicenda mediante una valutazione a stelle (\"Classificazione\"). L&rsquo;utente finale informazioni veritiere nelle recensioni e nelle valutazioni e lo far&agrave; solo includendo tali circostanze connesse all'esecuzione del noleggio. &Egrave; vietato al Partner fornire recensioni e valutazioni su s&eacute; stesso o organizzare revisioni o valutazioni su terzi.</p>\r\n      <p>9.2.-SGM non &egrave; responsabile per le recensioni e le valutazioni lasciate dagli utenti finali. SGM non esamina le recensioni e le valutazioni prima che vengano pubblicate. SGM &egrave; comunque autorizzata ad aggiungere commenti ai voti a fini di chiarimento e per rimuoverli ed eliminarli dal profilo delle valutazioni, in tutto o in parte, qualora tali valutazioni violino le specifiche contenute nel precedente &sect; 9.1, ledano i diritti di terzi; causino offesa o molestie o siano immorali o sessualmente esplicite, contengano informazioni personali riguardanti l'altro Utente, come il loro nome, l&rsquo;indirizzo, il numero di telefono o indirizzo e-mail; contengano link o script vietati; se tali commenti sono stati inavvertitamente attribuiti all&rsquo;Utente sbagliato; o devono essere rimossi a causa di una decisione giudiziaria esecutiva contro la parte che ha dato la valutazione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 10 &ndash; RICHIESTA DI PREVENTIVO</p>\r\n      <p>&nbsp;</p>\r\n      <p>10.1.- Il Partner potr&agrave; ricevere la richiesta di un preventivo dagli utenti finali registrati sulla piattaforma.&nbsp;</p>\r\n      <p>10.2.- Le fotografie e le illustrazioni mostrate dal Partner sulla piattaforma sono caricate direttamnte dai Noleggiatori e hanno lp scopo di mostrare all&rsquo;utente finale i veicoli per il noleggio e le medesime non dovranno essere considerate come garanzia che eccede questo scopo.</p>\r\n      <p>10.3.- L&rsquo;utente finale potr&agrave; richiedere al Partner un preventivo selezionando il tipo di veicolo da noleggiare e il periodo di utilizzo.</p>\r\n      <p>10.4.- Il Partner avr&agrave; tre giorni di tempo per formulare la sua proposta. Con l&rsquo;accettazione della proposta, il Servizio si riterr&agrave; concluso e l&rsquo;Utente ed il Partner tratterranno separatamente la conclusione di un eventuale contratto di noleggio.</p>\r\n      <p>10.5.- Il contratto di noleggio tra l&rsquo;utente finale e il Partner sar&agrave; regolato al di fuori del Servizio offerto dalla Piattaforma.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 11 - COMMISSIONE DI SERVIZIO, COSTI, GESTIONE DEI PAGAMENTI</p>\r\n      <p>&nbsp;</p>\r\n      <p>11.1.- Se viene stipulato un contratto tra utente finale e Partner a seguito dell'uso della piattaforma, SGM non ricevera&rsquo; &nbsp;alcuna commissione.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 12 - LIMITAZIONE DI RESPONSABILITA&rsquo;</p>\r\n      <p>&nbsp;</p>\r\n      <p>14.1.- In relazione all&rsquo;offerta dei Servizi di Noleggio ,SGM opera quale puro fornitore di informazioni non svolgendo alcun ruolo di intermediario nell&rsquo;esecuzione del contratto e quindi non sar&agrave; responsabile dell'inadempimento da parte dei Il Partner e degli Utenti delle obbligazioni relative ai contratti tra loro stipulati.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 13 - FORZA MAGGIORE</p>\r\n      <p>&nbsp;</p>\r\n      <p>13.1.-SGM &egrave; comunque esonerata dalle ogni obbligazione in caso di eventi o circostanze che rendono impossibile il funzionamento della piattaforma.</p>\r\n      <p>13.2.- I casi di forza maggiore devono comprendere, in particolare, l'interruzione o il fallimento di Internet o altre reti, connessioni di telecomunicazione, alimentazione elettrica, infrastrutture, fornitori o fornitori.</p>\r\n      <p>13.3.- Si considera, altres&igrave;, forza maggiore &ndash; ai sensi delle vigenti normative &ndash; un evento irresistibile e imprevedibile, straordinario ed indipendente dalla volont&agrave; delle parti e che impedisce alle parti stesse l&rsquo;adempimento delle proprie obbligazioni quali ad esempio: scioperi, modifiche normative, maltempo, ritardi nella consegna del veicolo da noleggi precedenti.</p>\r\n      <p><br /> </p>\r\n      <p>ARTICOLO 16 - ASSISTENZA CLIENTI</p>\r\n      <p>&nbsp;</p>\r\n      <p>16.1.- Il servizio clienti &egrave; importante per SGM. SGM assister&agrave; il Partner se Il Partner ha qualche domanda o problema. Il Partner pu&ograve; contattare SGM scrivendo nell&rsquo;apposito form nella pagina &ldquo;CONTATTACI&rdquo; indicato nel Servizio.</p>\r\n      <p>16.2.- Il Contratto di noleggio sar&agrave; concluso esclusivamente tra l&rsquo;utente e il Partner. SGM non &egrave; quindi responsabile per l'affidabilit&agrave; del partner contrattuale, n&eacute; per la corretta esecuzione del Contratto di noleggio.SGM si &egrave; comunque impegnata a garantire che le richieste di noleggio ricevano una risposta tempestiva.</p>\r\n      <p>ARTICOLO - 17 PRIVACY</p>\r\n      <p>&nbsp;</p>\r\n      <p>17.1.-SGM raccoglie e archivia i dati necessari per scopi commerciali. L&rsquo;attivit&agrave; e la piattaforma di SGM sono conformi con le disposizioni di legge in materia di trattamento dei dati personali. La nostra politica sulla privacy, disponibile all'indirizzo https://www...........</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 18 - LEGGE APPLICABILE E FORO COMPETENTE</p>\r\n      <p>&nbsp;</p>\r\n      <p>18.1.- Il presente contratto &egrave; disciplinato dalla legge italiana. Le parti sottoporranno tutte le controversie derivanti dal presente Contratto o collegate ad esso - ivi comprese quelle relative alla sua interpretazione, validit&agrave;, efficacia, esecuzione e risoluzione - al tentativo di mediazione ex D.Lgs. n. 28/2010 secondo le disposizioni del Regolamento di Mediazione Civile e Commerciale della Camera Arbitrale di Milano che le parti espressamente dichiarano di conoscere e di accettare integralmente. Le parti si impegnano a ricorrere alla mediazione prima di iniziare qualsiasi procedimento arbitrale o giudiziale. La richiesta di mediazione dovr&agrave; essere depositata avanti alla Camera di Commercio della sede diSGMentro trenta giorni dalla controversia. La nomina del mediatore verr&agrave; disposta in base all'elenco dei mediatori iscritti con competenza nell'area commerciale e dei trasporti. Per l'eventuale successivo procedimento giudiziale la competenza sar&agrave; del Foro della sede di SGM, ad eccezione delle ipotesi contemplate dall&rsquo;art 1469 bis c.c. e fermo e impregiudicato quanto previsto all&rsquo;ARTICOLO 33, comma 2, lettera U, del Codice del Consumo (D.Lgs. 206/2005) e cio&egrave; il Foro ove risiede o &egrave; elettivamente domiciliato il Consumatore. Qualora una parte qualsiasi del presente Contratto sia ritenuta inapplicabile ai sensi di legge, tale parte sar&agrave; considerata annullata, tuttavia ci&ograve; non comporter&agrave; l&rsquo;invalidit&agrave; o l&rsquo;inefficacia delle altre disposizioni.</p>\r\n      <p>&nbsp;</p>\r\n      <p>ARTICOLO 19 &ndash; MISCELLANEOUS</p>\r\n      <p>&nbsp;</p>\r\n      <p>19.1.- Qualora singole disposizioni delle Condizioni d'uso non siano valide, ci&ograve; non pregiudica la validit&agrave; delle altre disposizioni delle Condizioni d'uso, che resteranno valide ed efficaci.</p>\r\n      <p>19.2.-SGM ha il diritto di trasferire e/o cedere i diritti e gli obblighi previsti dall'accordo con gli Utenti a terzi in tutto o in parte. In caso di trasferimento di questo tipo, gli utenti devono ricevere apposita ed espressa notifica che preveda un determinato periodo di tempo per l'eliminazione del loro profilo degli utenti, qualora non accettino il trasferimento.</p>\r\n      <p>&nbsp;</p>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function TermsOfUse() {\r\n  return (\r\n    <div\r\n      style={{\r\n        margin:16\r\n      }}\r\n    >\r\n      <p>Piattaforma:&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Baikup.com</p>\r\n      <p>Titolare del Trattamento dei Dati:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Social Green Mobility Srl<br/>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Piazza Delle Bande Nere, 9<br/>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 20147 Milano - MI- Italia<br/>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; p. iva<br/>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; C.F.:<br/>\r\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pec:<br/>\r\n        &nbsp;</p>\r\n      <p><strong>Tipologie di Dati raccolti</strong></p>\r\n      <p>Fra i Dati Personali raccolti da questa Piattaforma, in modo autonomo o tramite terze parti, ci sono: cookies; dati di utilizzo; nome; cognome; email; numero di telefono; posizione geografica.</p>\r\n      <p>I Dati Personali possono essere inseriti volontariamente dall&rsquo;Utente, inteso sia come utenti finale che di noleggiatore, oppure raccolti in modo automatico durante l&rsquo;uso di questa Piattaforma (come i dati di utilizzo).&nbsp;</p>\r\n      <p>Se non diversamente specificato, tutti i Dati richiesti da questa Piattaforma sono obbligatori. Se l&rsquo;Utente rifiuta di comunicarli, potrebbe essere impossibile per questa Piattaforma fornire il servizio. Nel caso in cui questa Piattaforma indichi alcuni Dati come facoltativi, gli Utenti sono liberi di astenersi dal comunicare tali Dati, senza che ci&ograve; abbia alcuna conseguenza sulla disponibilit&agrave; del servizio o sulla sua operativit&agrave;.</p>\r\n      <p>L&rsquo;eventuale utilizzo di Cookies - o di altri strumenti di tracciamento - da parte di questa Piattaforma o dei titolari dei servizi terzi utilizzati da questa Piattaforma, ove non diversamente precisato, ha la finalit&agrave; di identificare l&rsquo;Utente e registrare le relative preferenze per finalit&agrave; strettamente legate all&rsquo;erogazione del servizio richiesto dall&rsquo;Utente.</p>\r\n      <p>L&rsquo;Utente si assume la responsabilit&agrave; dei Dati Personali di terzi pubblicati o condivisi mediante questa Piattaforma e garantisce di avere il diritto di comunicarli o diffonderli, liberando il Titolare da qualsiasi responsabilit&agrave; verso terzi.&nbsp;</p>\r\n      <p><strong>&nbsp;<br /> Modalit&agrave; di trattamento</strong></p>\r\n      <p>Il Titolare tratta i Dati Personali degli Utenti adottando le opportune misure di sicurezza volte ad impedire l&rsquo;accesso, la divulgazione, la modifica o la distruzione non autorizzate dei Dati Personali.</p>\r\n      <p>Il trattamento viene effettuato mediante strumenti informatici e/o telematici, con modalit&agrave; organizzative e con logiche strettamente correlate alle finalit&agrave; indicate. Oltre al Titolare, in alcuni casi, potrebbero avere accesso ai Dati categorie di incaricati coinvolti nell&rsquo;organizzazione della Piattaforma (a titolo esemplificativo e non esaustivo: personale amministrativo, commerciale, marketing, legali) ovvero soggetti esterni (a titolo esemplificativo e non esaustivo: fornitori di servizi tecnici terzi, corrieri postali, hosting provider, societ&agrave; informatiche) nominati anche, se necessario, Responsabili del Trattamento da parte del Titolare.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Base giuridica del trattamento</strong></p>\r\n      <p>Il Titolare tratta Dati Personali relativi all&rsquo;Utente:</p>\r\n      <ul>\r\n      <li>se l&rsquo;Utente ha espresso il consenso al trattamento dei propri dati personali per una o pi&ugrave; specifiche finalit&agrave;;</li>\r\n      <li>se il trattamento &egrave; necessario all&rsquo;esecuzione di un contratto di cui l&rsquo;Utente &egrave; parte e/o all&rsquo;esecuzione di misure precontrattuali adottate su richiesta dello stesso;</li>\r\n      <li>se il trattamento &egrave; necessario per adempiere un obbligo legale al quale &egrave; soggetto il titolare del trattamento.</li>\r\n      <li>se il trattamento &egrave; necessario per l&rsquo;esecuzione di un compito di interesse pubblico o per l&rsquo;esercizio di pubblici poteri di cui &egrave; investito il Titolare;</li>\r\n      <li>se il trattamento &egrave; necessario per il perseguimento del legittimo interesse del Titolare o di terzi.&nbsp;</li>\r\n      </ul>\r\n      <p>&Egrave; sempre possibile richiedere al Titolare di chiarire la concreta base giuridica di ciascuna trattamento.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Luogo</strong></p>\r\n      <p>I Dati sono trattati dal Titolare su Server dislocati all&rsquo;interno del territorio UE.&nbsp;&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Tempi</strong></p>\r\n      <p>I Dati sono trattati per il tempo necessario allo svolgimento del servizio richiesto dall&rsquo;Utente, o richiesto dalle finalit&agrave; descritte in questo documento, e l&rsquo;Utente pu&ograve; sempre chiedere l&rsquo;interruzione del Trattamento o la cancellazione dei Dati.&nbsp;</p>\r\n      <p>Finalit&agrave; del Trattamento dei Dati Raccolti</p>\r\n      <p>I Dati dell&rsquo;Utente sono raccolti per consentire al Titolare di fornire i propri servizi, adempiere agli obblighi di legge, nonch&eacute; per le seguenti finalit&agrave;:&nbsp;</p>\r\n      <p>- Creazione account</p>\r\n      <p>L&rsquo;Utente, inserendo i propri Dati nella fase di registrazione e creazione di un account, acconsente al loro utilizzo per rispondere alle richieste di informazione, di preventivo, di prenotazione o di qualunque altra natura connessa.&nbsp;</p>\r\n      <p>- Registrazione ed autenticazione</p>\r\n      <p>Con la registrazione o l&rsquo;autenticazione, l&rsquo;Utente consente alla Piattaforma di identificarlo e di dargli accesso a servizi dedicati.</p>\r\n      <p>I servizi di registrazione e di autenticazione potrebbero essere forniti con l&rsquo;ausilio di terze parti (a titolo esemplificativo il Social Network Facebook). In tal caso, questa Piattaforma potr&agrave; accedere ad alcuni Dati conservati dal servizio terzo usato per la registrazione o l&rsquo;autenticazione.&nbsp;</p>\r\n      <p>- Newsletter</p>\r\n      <p>Con la registrazione alla newsletter, l&rsquo;indirizzo email dell&rsquo;Utente viene automaticamente inserito in una lista di contatti cui potranno essere trasmessi messaggi contenenti informazioni, anche di natura commerciale e promozionale.&nbsp;</p>\r\n      <p>- Interazioni con social network e piattaforme esterne</p>\r\n      <p>Questo tipo di servizio permette di effettuare interazioni con i social network, o con altre piattaforme esterne.</p>\r\n      <p>Le interazioni e le informazioni acquisite da questa Piattaforma sono, in ogni caso, soggette alle impostazioni privacy dell&rsquo;Utente relative ad ogni social network.</p>\r\n      <p>Questo tipo di servizio potrebbe comunque raccogliere dati sul traffico per le pagine dove il servizio &egrave; installato, anche quando gli Utenti non lo utilizzano.</p>\r\n      <p>- Interazioni basate sulla posizione - Geolocalizzazione</p>\r\n      <p>Questa Piattaforma pu&ograve; raccogliere, usare e condividere i dati relativi alla posizione geografica dell&rsquo;Utente, al fine di fornire servizi basati sulla posizione stessa.&nbsp;</p>\r\n      <p>La maggior parte dei browser e dei dispositivi fornisce in modo predefinito degli strumenti per negare il tracciamento geografico. Qualora l&rsquo;Utente abbia espressamente autorizzato tale possibilit&agrave;, questa Piattaforma potr&agrave; ricevere informazioni sulla sua effettiva posizione geografica.&nbsp;</p>\r\n      <p>La localizzazione dell&rsquo;Utente avviene in maniera non continua, dietro specifica richiesta dell&rsquo;Utente ovvero quando l&rsquo;Utente consenta alla Piattaforma il rilevamento automatico della posizione.</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Diritti dell&rsquo;Utente</strong></p>\r\n      <p>I soggetti cui si riferiscono i Dati Personali hanno il diritto in qualunque momento di:</p>\r\n      <p>- revocare il consenso in ogni momento;</p>\r\n      <p>- opporsi al trattamento dei propri Dati;</p>\r\n      <p>- accedere ai propri Dati;</p>\r\n      <p>- verificare e chiedere la rettifica;</p>\r\n      <p>- ottenere la limitazione del trattamento;</p>\r\n      <p>- ottenere la cancellazione o rimozione dei propri Dati Personali;</p>\r\n      <p>- ricevere i propri Dati o farli trasferire ad altro titolare;</p>\r\n      <p>- proporre reclamo.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p>Le richieste vanno rivolte al Titolare del Trattamento a mezzo email certificata (pec).&nbsp;</p>\r\n      <p><strong><br /> Modifiche a questa Privacy Policy</strong></p>\r\n      <p>Il titolare del Trattamento si riserva il diritto di apportare modifiche alla presente privacy policy in qualunque momento dandone pubblicit&agrave; agli Utenti su questa Piattaforma.&nbsp;</p>\r\n      <p>Si prega, dunque, di consultare spesso quest&rsquo;ultima, prendendo come riferimento la data di ultima modifica indicata nel fondo. Nel caso di mancata accettazione delle modifiche apportate alla presente privacy policy, l&rsquo;Utente &egrave; tenuto a cessare l&rsquo;utilizzo di questa Piattaforma e pu&ograve; richiedere al Titolare del Trattamento di rimuovere i propri Dati Personali. Salvo quanto diversamente previsto, la precedente privacy policy continuer&agrave; ad applicarsi ai Dati Personali sino a quel momento raccolti.&nbsp;</p>\r\n      <p>&nbsp;</p>\r\n      <p><strong>Riferimenti legali</strong></p>\r\n      <p>La presente informativa privacy &egrave; redatta in adempimento degli obblighi previsti dal Regolamento Europeo Generale sulla Protezione dei Dati n. 2016/679.&nbsp;</p>\r\n      <p>Data ultima modifica: 31 Luglio 2020</p>\r\n      <p>&nbsp;</p>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\r\n\r\nimport EmailVerification from '../Pages/EmailVerification';\r\nimport ForgotPassword from '../Pages/ForgotPassword';\r\nimport Login from '../Pages/Login';\r\nimport PartnerRegistration from '../Pages/PartnerRegistration';\r\nimport UserRegistration from '../Pages/UserRegistration';\r\nimport SiteBody from '../Site/SiteBody';\r\n\r\n// This is temporary to activate Facebook\r\nimport PrivacyPolicy from '../Pages/PrivacyPolicy';\r\nimport TermsOfUse from '../Pages/TermsOfUse';\r\n\r\nconst baikkyHomePage = \"https://www.baikky.com/\";\r\n\r\nfunction SiteRouting() {\r\n  \r\n  \r\n  return (\r\n    <Router basename=\"/dashboard\">\r\n      <Switch>\r\n        <Route exact path='/login/:type'>\r\n          <Login/>\r\n        </Route>\r\n        <Route exact path='/forgotPassword/:type'>\r\n          <ForgotPassword/>\r\n        </Route>\r\n        <Route exact path='/register/partner'>\r\n          <PartnerRegistration/>\r\n        </Route>\r\n        <Route exact path='/register/user'>\r\n          <UserRegistration/>\r\n        </Route>\r\n        <Route\r\n         exact path='/verifyEmail/:type/:id'>\r\n          <EmailVerification/>\r\n        </Route>\r\n        <Route exact path='/privacy-policy'>\r\n          <PrivacyPolicy/>\r\n        </Route>\r\n        <Route exact path='/terms-of-use'>\r\n          <TermsOfUse/>\r\n        </Route>\r\n        <Route exact path='/main/:page?'\r\n          render={() => {\r\n            const loginDetails = JSON.parse(sessionStorage.getItem(\"loginDetails\"));\r\n            return (\r\n              loginDetails ? <SiteBody/> : <Redirect to='/login/user' />\r\n            )\r\n          }}\r\n        />\r\n        <Route render={() => (\r\n          <Redirect to='/login/user' />\r\n        )}/>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default SiteRouting;\r\n","import React from 'react';\nimport SiteRouting from './Site/SiteRouting';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height:'100vh'\n  },\n  devWarning: {\n    textAlign:'center',\n    padding:theme.spacing(2),\n    borderBottom:'1px solid',\n    font:'bold 16px arial',\n    backgroundColor:'bisque'\n  }\n}))\n\n\nfunction App() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <div className={classes.devWarning}>\n        WARNING! This is a development environment!\n      </div>\n      <SiteRouting/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}